<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-stdlib-docs/README" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">README | DataSQRL</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://docs.datasqrl.com/img/datasqrl-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.datasqrl.com/img/datasqrl-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.datasqrl.com/docs/stdlib-docs/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="data, API, SQRL, DataSQRL, data product, data pipeline, database, streaming, real-time analytics"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" name="twitter:site" content="@DataSQRL"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="README | DataSQRL"><meta data-rh="true" name="description" content="Deploy jars"><meta data-rh="true" property="og:description" content="Deploy jars"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.datasqrl.com/docs/stdlib-docs/"><link data-rh="true" rel="alternate" href="https://docs.datasqrl.com/docs/stdlib-docs/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.datasqrl.com/docs/stdlib-docs/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="DataSQRL RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="DataSQRL Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y4XLW4QZYX"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-Y4XLW4QZYX",{})</script><link rel="stylesheet" href="/assets/css/styles.4f6b5385.css">
<script src="/assets/js/runtime~main.b203ea63.js" defer="defer"></script>
<script src="/assets/js/main.524d48cd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="stdlib-docs/img/runner_logo.png"><link rel="preload" as="image" href="stdlib-docs/img/sqrl_functions_logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="DataSQRL Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="DataSQRL Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DataSQRL</b></a><a class="navbar__item navbar__link" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/blog">Releases &amp; Updates</a><a class="navbar__item navbar__link" href="/community">Community</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/DataSQRL/sqrl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><p><a href="https://github.com/DataSQRL/flink-sql-runner/actions/workflows/deploy.yml" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://github.com/DataSQRL/flink-sql-runner/actions/workflows/deploy.yml/badge.svg" alt="Deploy jars" class="img_ev3q"></a>
<a href="https://github.com/DataSQRL/flink-sql-runner/releases" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://img.shields.io/github/v/release/DataSQRL/flink-sql-runner?sort=semver" alt="GitHub release" class="img_ev3q"></a>
<a href="https://hub.docker.com/r/datasqrl/flink-sql-runner/tags" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://img.shields.io/docker/v/datasqrl/flink-sql-runner?sort=semver" alt="Docker Image Version" class="img_ev3q"></a>
<a href="https://repo1.maven.org/maven2/com/datasqrl/flinkrunner/flink-sql-runner/" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://img.shields.io/maven-central/v/com.datasqrl.flinkrunner/flink-sql-runner" alt="Maven Central" class="img_ev3q"></a></p>
<header><h1>Flink SQL Runner</h1></header>
<img src="stdlib-docs/img/runner_logo.png" alt="Flink SQL Runner Logo" width="300" align="right">
<p>Tools and extensions for running Apache Flink SQL applications, including Docker images, data types, connectors, function libraries, and formats.</p>
<p>This repository contains core components for running Flink SQL applications in production using the Flink Kubernetes Operator, without manual JAR assembly or custom infrastructure.</p>
<p>The individual components are modular and the project is composable to make it easy to create your own custom Flink SQL runner.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">‚Äã</a></h2>
<ul>
<li>üìù <strong>SQL Script Execution</strong>: Run SQL scripts directly with Flink.</li>
<li>üßæ <strong>Compiled Plan Execution</strong>: Run pre-compiled Flink SQL plans to manage production deployments and versioning.</li>
<li>üîÑ <strong>Environment Variable Substitution</strong>: Inject environment variables <code>${VAR}</code> into SQL scripts and configs at runtime.</li>
<li>üì¶ <strong>JAR Dependency Management</strong>: Reference local directories with required JARs (e.g. UDFs).</li>
<li>üåç <strong>Kubernetes-Friendly</strong>: Built to run with the Flink Kubernetes Operator.</li>
<li>üîß <strong>Function Infrastructure</strong>: Utilities for writing and loading UDFs as system functions.</li>
<li>ü™Ñ <strong>Flink Extensions</strong>:<!-- -->
<ul>
<li>üíÄ Dead-letter queue support in Kafka for poison message handling.</li>
<li>üöÄ Native JSON and Vector types with JSON format and PostgreSQL connector support.</li>
<li>üìö Function libraries for additional functionality in Flink SQL (advanced math, OpenAI, etc)</li>
<li>‚öôÔ∏è Additional configuration options for CSV format.</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="flink-sql-runner-usage">Flink SQL Runner Usage<a href="#flink-sql-runner-usage" class="hash-link" aria-label="Direct link to Flink SQL Runner Usage" title="Direct link to Flink SQL Runner Usage">‚Äã</a></h2>
<p>You can use the docker image to run Flink SQL scripts or compiled plans locally or in Kubernetes.
The docker image contains the executable flink-sql-runner.jar file which supports the following command line arguments:</p>
<table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>-p, --planfile</code></td><td>Compiled plan (i.e. JSON file) to execute</td></tr><tr><td><code>-s, --sqlfile</code></td><td>Flink SQL script to execute</td></tr><tr><td><code>-c, --config-dir</code></td><td>Directory containing the <a href="https://nightlies.apache.org/flink/flink-docs-release-1.19/docs/deployment/config/" target="_blank" rel="noopener noreferrer">Flink configuration YAML file</a></td></tr><tr><td><code>-u, --udfpath</code></td><td>Path to JAR files that implement user defined functions (UDFs) or other runtime extensions for Flink</td></tr><tr><td><code>-m, --mode</code></td><td>Optional argument to specify <a href="https://nightlies.apache.org/flink/flink-docs-release-1.20/docs/dev/datastream/execution_mode/" target="_blank" rel="noopener noreferrer">Flink execution mode</a> (<code>STREAMING</code> (default), <code>BATCH</code>, or <code>AUTOMATIC</code>)</td></tr></tbody></table>
<blockquote>
<p>[!WARNING]
The runner expects either a Flink SQL script or a compiled plan - not both.</p>
<p>The <code>--mode</code> argument - even if it is explicitly set - will be ignored if the Flink YAML configuration set via <code>--config-dir</code> contains <code>execution.runtime-mode</code>.</p>
</blockquote>
<p>We strongly recommend to run compiled plans for production Flink SQL applications since they support
lifecycle management of applications, are stable across Flink versions, and provide more control over
the executed JobGraph.
You can use the <a href="https://github.com/DataSQRL/sqrl/" target="_blank" rel="noopener noreferrer">SQRL compiler</a> to compile Flink SQL applications to compiled plans.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-locally">Running Locally<a href="#running-locally" class="hash-link" aria-label="Direct link to Running Locally" title="Direct link to Running Locally">‚Äã</a></h3>
<p>To run Flink SQL Runner locally using Docker in a self-contained cluster (JobManager and TaskManager in a single container):</p>
<p>1. Create your SQL script
Put your Flink SQL (e.g., <code>flink.sql</code>) in a local directory, such as:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./sql-scripts/flink.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>2. Run the Docker image
This starts a full standalone Flink session cluster in one container:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run --rm -it \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -p 8081:8081 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -v &quot;$PWD/sql-scripts&quot;:/flink/sql \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --name runner \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  datasqrl/flink-sql-runner:0.6.2-flink-1.19 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  cluster</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>3. Submit your SQL job
In a separate terminal, run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker exec -it runner flink run flink-sql-runner.jar --sqlfile /flink/sql/flink.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The job will be submitted to the embedded JobManager and executed using the local TaskManager.</p>
<blockquote>
<p>[!NOTE]<br>
<!-- -->The <code>flink-sql-runner.jar</code> is a symlink placed in the Flink root directory (<code>/opt/flink</code>) for easier access, but the actual file resides in its own plugin directory: <code>/opt/flink/plugins/flink-sql-runner</code>.
It is possible to add any Flink arguments or run any accessible JAR, just like with a vanilla <code>flink run</code> command.</p>
</blockquote>
<p>4. Inspect output
If your SQL uses the print connector as a sink, you can check logs via:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker exec -it runner bash -c &quot;cat /opt/flink/log/$(ls /opt/flink/log | grep &#x27;flink--taskexecutor&#x27; | grep &#x27;.out&#x27;)&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or use the Flink UI at <a href="http://localhost:8081" target="_blank" rel="noopener noreferrer">http://localhost:8081</a> to monitor jobs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-in-kubernetes-with-flink-operator">Running in Kubernetes with Flink Operator<a href="#running-in-kubernetes-with-flink-operator" class="hash-link" aria-label="Direct link to Running in Kubernetes with Flink Operator" title="Direct link to Running in Kubernetes with Flink Operator">‚Äã</a></h3>
<p>Here&#x27;s how to use the Flink Jar Runner with the Flink Operator on Kubernetes:</p>
<p>1. Prepare Your Files: Ensure that your SQL scripts (<code>statements.sql</code>) or compiled plans (<code>compiled_plan.json</code>), and JAR files are accessible within your container.</p>
<p>Example Helm chart configuration:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> flink.apache.org/v1beta1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> FlinkDeployment</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> sql</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">example</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> datasqrl/flink</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">sql</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">runner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">flinkVersion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> v1_19</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">flinkConfiguration</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">taskmanager.numberOfTaskSlots</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">serviceAccount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> flink</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">jobManager</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">resource</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">memory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;2048m&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">cpu</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">taskManager</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">resource</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">memory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;2048m&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">cpu</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">job</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">jarURI</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">//raw.github.com/datasqrl/releases/0.6.2/flink</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">sql</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">runner.jar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;--sqlfile&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/opt/flink/usrlib/sql-scripts/statements.sql&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;--planfile&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/opt/flink/usrlib/sql-scripts/compiled_plan.json&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;--udfpath&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/opt/flink/usrlib/jars&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">parallelism</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">upgradeMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> stateless</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>[!WARNING]
Configure either the SQL script OR the compiled plan - not both.</p>
</blockquote>
<ol>
<li>Deploy with Helm:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">helm install sql-example -f &lt;your-helm-values&gt;.yaml &lt;your-helm-chart&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variable-substitution">Environment Variable Substitution<a href="#environment-variable-substitution" class="hash-link" aria-label="Direct link to Environment Variable Substitution" title="Direct link to Environment Variable Substitution">‚Äã</a></h3>
<p>Flink SQL Runner automatically substitutes environment variables in your configuration files, SQL scripts, and compiled plans for secrets and environment specific configuration. Environment variables must be of the form <code>${ENV_VARIABLE}</code> and inside of strings.</p>
<p>For example, <code>${DATA_PATH}</code> is an environment variable inside the connector configuration of a table that is substituted at runtime:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">TEMPORARY</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">TABLE</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token identifier">MyTable</span><span class="token identifier punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;connector&#x27;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;filesystem&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;format&#x27;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;json&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;path&#x27;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;${DATA_PATH}/applications.jsonl&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;source.monitor-interval&#x27;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="building-your-own-flink-sql-runner">Building Your Own Flink SQL Runner<a href="#building-your-own-flink-sql-runner" class="hash-link" aria-label="Direct link to Building Your Own Flink SQL Runner" title="Direct link to Building Your Own Flink SQL Runner">‚Äã</a></h3>
<p>The Flink SQL runner is published to Maven Central and you can add it as a dependency in your project to extend
the runner to suit your needs.</p>
<ul>
<li>Maven:</li>
</ul>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">com.datasqrl.flinkrunner</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">flink-sql-runner</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">0.6.2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Gradle:</li>
</ul>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">implementation &#x27;com.datasqrl.flinkrunner:flink-sql-runner:0.6.2&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="flink-extensions">Flink Extensions<a href="#flink-extensions" class="hash-link" aria-label="Direct link to Flink Extensions" title="Direct link to Flink Extensions">‚Äã</a></h2>
<p>The Flink SQL Runner contains a few extensions to the Flink runtime.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dead-letter-queue-support-for-kafka-sources">Dead-Letter-Queue Support for Kafka Sources<a href="#dead-letter-queue-support-for-kafka-sources" class="hash-link" aria-label="Direct link to Dead-Letter-Queue Support for Kafka Sources" title="Direct link to Dead-Letter-Queue Support for Kafka Sources">‚Äã</a></h3>
<p>If a Flink SQL application fails to deserialize a message from a Kafka topic, the entire job can fail.</p>
<p>This project implements the <code>kafka-safe</code> and <code>upsert-kafka-safe</code> <a href="/docs/stdlib-docs/connectors/kafka-safe">connectors</a> which extend the respective kafka connectors with dead-letter-queue support, so that messages which fail to deserialize can be logged, or sent to a dead-letter-queue, instead of failing the job.</p>
<p>In addition to the configuration options exposed by the original kafka connectors, the <code>-safe</code> versions support the following optional configuration options:</p>
<table><thead><tr><th>Options</th><th>Default</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>scan.deser-failure.handler</td><td>none</td><td>String</td><td>Use <code>log</code> to output failed messages to the logger, <code>kafka</code> to output failed messages to a kafka topic, or <code>none</code> to fail the job.</td></tr><tr><td>scan.deser-failure.topic</td><td>-</td><td>String</td><td>The topic for the dead-letter-queue that failed messages are written to. Required when the handler is configured to <code>kafka</code>.</td></tr></tbody></table>
<blockquote>
<p>[!NOTE]<br>
<!-- -->The dead-letter-queue producer will use the same Kafka configuration, that is provided for the Flink SQL table that reads the data.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jsonb-type">JSONB Type<a href="#jsonb-type" class="hash-link" aria-label="Direct link to JSONB Type" title="Direct link to JSONB Type">‚Äã</a></h3>
<p>This project adds a <a href="/docs/stdlib-docs/types/json-type">binary JSON type</a> and associated functions for more efficient JSON handling that does not serialize from and to string repeatedly.</p>
<p>Native JSON type support is also extended to the <a href="/docs/stdlib-docs/formats/flexible-json-format">JSON format</a> called <code>flexible-json</code> for writing JSON data as nested documents (instead of strings) as well as the <a href="/docs/stdlib-docs/connectors/postgresql-connector">JDBC connector for PostgreSQL</a> to write JSON data to JSONB columns.</p>
<p>The binary JSON type is supported by <a href="/docs/stdlib-docs/stdlib-docs/system-functions#jsonb-functions">these system functions</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vector-type">Vector Type<a href="#vector-type" class="hash-link" aria-label="Direct link to Vector Type" title="Direct link to Vector Type">‚Äã</a></h3>
<p>This project adds a native <a href="/docs/stdlib-docs/types/vector-type">Vector type</a> and associated functions for more efficient handling of vectors (e.g. for content embeddings).</p>
<p>Native Vector type support is also extended to the <a href="/docs/stdlib-docs/connectors/postgresql-connector">JDBC connector for PostgreSQL</a> to write vector data to vector columns for the <code>pgvector</code> extension.</p>
<p>The native vector type is supported by <a href="/docs/stdlib-docs/stdlib-docs/system-functions#vector-functions">these system functions</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="function-libraries">Function Libraries<a href="#function-libraries" class="hash-link" aria-label="Direct link to Function Libraries" title="Direct link to Function Libraries">‚Äã</a></h3>
<img src="stdlib-docs/img/sqrl_functions_logo.png" alt="Flink SQL Runner Logo" width="300" align="right">
<p>Implementation of Flink SQL and SQRL functions that can be added as user-defined functions (UDFs) to support additional functionality.</p>
<ul>
<li><a href="/docs/stdlib-docs/stdlib-docs/library-functions#math">Math</a>: Advanced math functions</li>
<li><a href="/docs/stdlib-docs/stdlib-docs/library-functions#openai">OpenAI</a>: Function for calling completions, structured data extraction, and vector embeddings.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="within-datasqrl">Within DataSQRL<a href="#within-datasqrl" class="hash-link" aria-label="Direct link to Within DataSQRL" title="Direct link to Within DataSQRL">‚Äã</a></h3>
<p>If you are using the <a href="https://github.com/DataSQRL/sqrl" target="_blank" rel="noopener noreferrer">DataSQRL framework</a> to compile your SQRL project, you can import the function library as follows:</p>
<p><code>IMPORT stdlib.[library-name].*</code></p>
<p>where <code>[library-name]</code> is replaced with the name of the library, e.g. <code>stdlib.math.*</code>.</p>
<p>To import a single function:</p>
<p><code>IMPORT stdlib.[library-name].[function-name]</code></p>
<p>e.g. <code>stdlib.text.split</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flink-sql-runner-1">Flink SQL Runner<a href="#flink-sql-runner-1" class="hash-link" aria-label="Direct link to Flink SQL Runner" title="Direct link to Flink SQL Runner">‚Äã</a></h3>
<p>To use a function library with the Flink SQL Runner:</p>
<ol>
<li>Copy the JAR file for the function library to the UDF directory that is passed as an argument.</li>
<li>Declare the function in your Flink SQL script:</li>
</ol>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FUNCTION</span><span class="token plain"> TheFunctionToAdd </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;com.datasqrl.flinkrunner.[library-name].[function-name]&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>where you replace <code>[library-name]</code> with the name of the function library and <code>[function-name]</code> with the name of the function.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-flink-implementation">Custom Flink Implementation<a href="#custom-flink-implementation" class="hash-link" aria-label="Direct link to Custom Flink Implementation" title="Direct link to Custom Flink Implementation">‚Äã</a></h3>
<p>If you are building your own Flink SQL runner, you can depend on the function modules and load the functions into your project.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="csv-format">CSV Format<a href="#csv-format" class="hash-link" aria-label="Direct link to CSV Format" title="Direct link to CSV Format">‚Äã</a></h3>
<p>The <code>flexible-csv</code> format extends the standard csv format with a configuration option <code>skip-header</code> to skip the first row in a CSV file (i.e. the header).</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community-contributions">Community Contributions<a href="#community-contributions" class="hash-link" aria-label="Direct link to Community Contributions" title="Direct link to Community Contributions">‚Äã</a></h2>
<p>Contributions are welcome! Feel free to open an issue or submit a <a href="https://github.com/DataSQRL/flink-sql-runner/pulls" target="_blank" rel="noopener noreferrer">pull request</a> on GitHub.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="releasing">Releasing<a href="#releasing" class="hash-link" aria-label="Direct link to Releasing" title="Direct link to Releasing">‚Äã</a></h3>
<p>Release process is fully automated and driven by github release. Just <a href="https://github.com/DataSQRL/flink-sql-runner/releases/new" target="_blank" rel="noopener noreferrer">create a new release</a> and github action will take care of the rest. The new release version will match the <code>tag</code>, so must use <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">semver</a> when selecting tag name.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="license">License<a href="#license" class="hash-link" aria-label="Direct link to License" title="Direct link to License">‚Äã</a></h3>
<p>This project is licensed under the Apache 2 License. See the <a href="https://github.com/DataSQRL/flink-sql-runner/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">LICENSE</a> file for details.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contact--support">Contact &amp; Support<a href="#contact--support" class="hash-link" aria-label="Direct link to Contact &amp; Support" title="Direct link to Contact &amp; Support">‚Äã</a></h3>
<p>For any questions or support, please open an <a href="https://github.com/DataSQRL/flink-sql-runner/issues" target="_blank" rel="noopener noreferrer">issue</a> in the GitHub repository.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a></li><li><a href="#flink-sql-runner-usage" class="table-of-contents__link toc-highlight">Flink SQL Runner Usage</a><ul><li><a href="#running-locally" class="table-of-contents__link toc-highlight">Running Locally</a></li><li><a href="#running-in-kubernetes-with-flink-operator" class="table-of-contents__link toc-highlight">Running in Kubernetes with Flink Operator</a></li><li><a href="#environment-variable-substitution" class="table-of-contents__link toc-highlight">Environment Variable Substitution</a></li><li><a href="#building-your-own-flink-sql-runner" class="table-of-contents__link toc-highlight">Building Your Own Flink SQL Runner</a></li></ul></li><li><a href="#flink-extensions" class="table-of-contents__link toc-highlight">Flink Extensions</a><ul><li><a href="#dead-letter-queue-support-for-kafka-sources" class="table-of-contents__link toc-highlight">Dead-Letter-Queue Support for Kafka Sources</a></li><li><a href="#jsonb-type" class="table-of-contents__link toc-highlight">JSONB Type</a></li><li><a href="#vector-type" class="table-of-contents__link toc-highlight">Vector Type</a></li><li><a href="#function-libraries" class="table-of-contents__link toc-highlight">Function Libraries</a></li></ul></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#within-datasqrl" class="table-of-contents__link toc-highlight">Within DataSQRL</a></li><li><a href="#flink-sql-runner-1" class="table-of-contents__link toc-highlight">Flink SQL Runner</a></li><li><a href="#custom-flink-implementation" class="table-of-contents__link toc-highlight">Custom Flink Implementation</a></li><li><a href="#csv-format" class="table-of-contents__link toc-highlight">CSV Format</a></li></ul></li><li><a href="#community-contributions" class="table-of-contents__link toc-highlight">Community Contributions</a><ul><li><a href="#releasing" class="table-of-contents__link toc-highlight">Releasing</a></li><li><a href="#license" class="table-of-contents__link toc-highlight">License</a></li><li><a href="#contact--support" class="table-of-contents__link toc-highlight">Contact &amp; Support</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/intro">User Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/DataSQRL/sqrl" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/datasqrlcommunity/shared_invite/zt-2l3rl1g6o-im6YXYCqU7t55CNaHqz_Kg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Updates</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/datasqrlcommunity/shared_invite/zt-2l3rl1g6o-im6YXYCqU7t55CNaHqz_Kg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Talk to Us</a></li><li class="footer__item"><a href="https://github.com/DataSQRL/sqrl/issues/new" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 DataSQRL, Inc.</div></div></div></footer></div>
</body>
</html>