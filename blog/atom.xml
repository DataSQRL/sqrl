<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="atom.xsl"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://docs.datasqrl.com/blog</id>
    <title>DataSQRL Blog</title>
    <updated>2025-12-10T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://docs.datasqrl.com/blog"/>
    <subtitle>DataSQRL Blog</subtitle>
    <icon>https://docs.datasqrl.com/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Data Platform Automation]]></title>
        <id>https://docs.datasqrl.com/blog/data-platform-automation</id>
        <link href="https://docs.datasqrl.com/blog/data-platform-automation"/>
        <updated>2025-12-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[DataSQRL is an open-source data automation framework that provides guardrails and feedback for AI coding agents to develop and operate data pipelines, data products, and data APIs autonomously.]]></summary>
        <content type="html"><![CDATA[
<p>DataSQRL is an open-source data automation framework that provides guardrails and feedback for AI coding agents to develop and operate data pipelines, data products, and data APIs autonomously.
You can customize DataSQRL as the foundation of your self-driving data platform.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-datasqrl">Why DataSQRL?<a href="https://docs.datasqrl.com/blog/data-platform-automation#why-datasqrl" class="hash-link" aria-label="Direct link to Why DataSQRL?" title="Direct link to Why DataSQRL?">​</a></h2>
<p>To understand <em>why you need DataSQRL</em>, let's start with the obvious question: <strong>Aren’t LLM-based coding agents good enough?</strong></p>
<p>LLMs are powerful pattern-matching systems but lack grounded models of how data systems behave. Research such as Apple’s 2024 paper <a href="https://ml-site.cdn-apple.com/papers/the-illusion-of-thinking.pdf" target="_blank" rel="noopener noreferrer">“The Illusion of Thinking”</a> shows that LLMs struggle with causal, temporal, and systems-level reasoning, which are the capabilities required to design reliable, multi-engine data pipelines. As a result, agents often generate brittle transformations, invalid mappings, and incorrect assumptions about how data moves and evolves over time.</p>
<p>That is why DataSQRL exists. Coding agents are impressive solution generators, but they require a <strong>conceptual model</strong>, <strong>validator</strong>, and <strong>simulator</strong> to ensure correctness, safety, and robustness. In most successful agentic systems deployed in the wild, the neural network–driven reasoning is balanced by an external framework that supplies structure, constraints, and feedback loops.</p>
<p>Consider self-driving cars as an example. Neural networks power environmental perception: recognizing lanes, traffic lights, pedestrians. Autonomous driving becomes possible only when this probabilistic perception is grounded in detailed maps, constraint systems, planning modules, and a world model based on physics and real‑world dynamics.</p>
<p>The neural network alone cannot infer the rules of the road or the relationships that make a driving environment coherent.</p>
<p><strong>DataSQRL plays that grounding role for coding agents in the context of data platforms and data pipelines.</strong></p>
<p>Let's look at the individual components of DataSQRL to understand how it provides that grounding for AI.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="world-model">World Model<a href="https://docs.datasqrl.com/blog/data-platform-automation#world-model" class="hash-link" aria-label="Direct link to World Model" title="Direct link to World Model">​</a></h2>
<p>For the purposes of automating data platforms, a world model is a comprehensive conceptual framework that captures data schemas, data processing, and data serving to consumers. Specifically, we are building a world model for <em>non-transactional</em> data processing and serving.</p>
<p>The world model provides the frame of reference for implementing safe, reliable data processing systems.
It captures the knowledge from <a href="http://infolab.stanford.edu/~ullman/dscb.html" target="_blank" rel="noopener noreferrer">Database Systems: The Complete Book</a> combined with 25 years of data engineering experience.</p>
<p>DataSQRL breaks the world model down into the <em>logical</em> and <em>physical</em> models.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="logical-world-model">Logical World Model<a href="https://docs.datasqrl.com/blog/data-platform-automation#logical-world-model" class="hash-link" aria-label="Direct link to Logical World Model" title="Direct link to Logical World Model">​</a></h3>
<p>The logical world model expresses what data transformations are needed to produce the desired results.</p>
<p>An obvious choice for the logical model is <a href="https://en.wikipedia.org/wiki/Relational_model" target="_blank" rel="noopener noreferrer">Codd's relational model</a> and its most popular implementation <a href="https://en.wikipedia.org/wiki/SQL" target="_blank" rel="noopener noreferrer">SQL</a>.</p>
<p>The relational model is widely adopted, proven, and provides a solid mathematical foundation. Most LLMs are trained on lots of SQL code and related documentation. And it is easy for humans to read. Modern versions of SQL (e.g., the SQL:2023 standard) support semi-structured data (JSON), polymorphic table functions, and complex pattern matching to address the messy reality of data platforms.</p>
<p>While the relational model and SQL are a good starting point, we need two additions to achieve the expressibility that modern data platforms require.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-dataflow">1. Dataflow<a href="https://docs.datasqrl.com/blog/data-platform-automation#1-dataflow" class="hash-link" aria-label="Direct link to 1. Dataflow" title="Direct link to 1. Dataflow">​</a></h4>
<p>The relational model uses set semantics. That is inconvenient for representing data flows which are important for data pipelines.</p>
<p>Jennifer Widom's <a href="http://infolab.stanford.edu/~arvind/papers/cql-vldbj.pdf" target="_blank" rel="noopener noreferrer">Continuous Query Language</a> extends the relational model with data streams and relational operators for moving between streams and sets.</p>
<p><a href="https://nightlies.apache.org/flink/flink-docs-release-2.2/docs/dev/table/overview/" target="_blank" rel="noopener noreferrer">Flink SQL</a>, based on <a href="https://calcite.apache.org/" target="_blank" rel="noopener noreferrer">Apache Calcite</a>, is the most widely adopted implementation of this extended relational model. That's why we use Flink SQL as the basis of the logical model in DataSQRL.</p>
<p>Using a declarative language for the logical world model has a number of advantages from concise representation to deep introspection, but a practical shortcoming is the fact that some data transformations are easier to express imperatively. Flink SQL overcomes this by supporting <a href="https://nightlies.apache.org/flink/flink-docs-release-2.2/docs/dev/table/functions/udfs/" target="_blank" rel="noopener noreferrer">user defined functions</a> and <a href="https://nightlies.apache.org/flink/flink-docs-release-2.2/docs/dev/table/functions/ptfs/" target="_blank" rel="noopener noreferrer">custom table operators</a> in programming languages like Java. This gives us a logical world model grounded in relational algebra with flexible extensibility to express complex data transformations imperatively.</p>
<p>DataSQRL builds on Flink SQL and adds 1) concise syntax for common transformations, 2) dbt-style templating, and 3) modular file management and importing. These features help with context management for LLMs by reducing the size of the active context that needs to be maintained during implementation and refinement.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- Ingest data from connected systems</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">IMPORT</span><span class="token plain"> banking_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">AccountHoldersCDC</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">-- CDC stream from masterdata</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">IMPORT</span><span class="token plain"> banking_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">AccountsCDC</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)">-- CDC stream from database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">IMPORT</span><span class="token plain"> banking_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Transactions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">-- Kafka topic for transactions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- Convert the CDC stream of updates to the most recent version</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Accounts       :</span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">DISTINCT</span><span class="token plain"> AccountsCDC </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ON</span><span class="token plain"> account_id </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> update_time </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">AccountHolders :</span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">DISTINCT</span><span class="token plain"> AccountHoldersCDC </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ON</span><span class="token plain"> holder_id </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> update_time </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- Enrich debit transactions with creditor information using time-consistent join</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SpendingTransactions :</span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token operator">*</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    h</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">name </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> creditor_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    h</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> creditor_type</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">Transactions</span><span class="token plain"> t</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">JOIN</span><span class="token plain"> Accounts </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FOR</span><span class="token plain"> SYSTEM_TIME </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">OF</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tx_time a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ON</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">credit_account_id </span><span class="token operator">=</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">account_id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">JOIN</span><span class="token plain"> AccountHolders </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FOR</span><span class="token plain"> SYSTEM_TIME </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">OF</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tx_time h</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">           </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ON</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">holder_id </span><span class="token operator">=</span><span class="token plain"> h</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">holder_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We call this SQL dialect <strong>SQRL</strong>. You can <a href="https://docs.datasqrl.com/docs/sqrl-language">read the documentation</a> for a complete reference of the SQRL language.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-serving">2. Serving<a href="https://docs.datasqrl.com/blog/data-platform-automation#2-serving" class="hash-link" aria-label="Direct link to 2. Serving" title="Direct link to 2. Serving">​</a></h4>
<p>In addition to data processing, a critical function of data platforms is serving data to consumers as data streams, datasets, or data APIs. Data APIs, in particular, are becoming more important with the rise of operational analytics and MCP (Model Context Protocol) for making data accessible to AI agents.</p>
<p>To support data serving, DataSQRL adds support for endpoint definitions via table functions and explicit relationships.</p>
<p>Table functions are part of the SQL:2016 standard and return entire tables as result sets computed dynamically based on provided parameters. In DataSQRL, table functions can be defined as API entry points.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">/** Retrieve spending transactions within the given time-range.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">  from_time (inclusive) and to_time (exclusive) must be RFC-3339 compliant date time.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SpendingTransactionsByTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  account_id STRING </span><span class="token operator">NOT</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token plain"> METADATA </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'auth.accountId'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  from_time </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">TIMESTAMP</span><span class="token plain"> </span><span class="token operator">NOT</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  to_time </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">TIMESTAMP</span><span class="token plain"> </span><span class="token operator">NOT</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> :</span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> SpendingTransactions</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> debit_account_id </span><span class="token operator">=</span><span class="token plain"> :account_id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token operator">AND</span><span class="token plain"> :from_time </span><span class="token operator">&lt;=</span><span class="token plain"> tx_time</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token operator">AND</span><span class="token plain"> :to_time </span><span class="token operator">&gt;</span><span class="token plain"> tx_time</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> tx_time </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Secondly, DataSQRL allows for explicit relationship definitions between tables which are important for API-based data access where results need to include related entities like <em>most recent orders</em> or <em>recommendations for movie category</em>. The relational model does not support traversing through an entity-relationship model, which is usually handled by an object-relational mapping layer when exposing an API. To avoid that extra complexity and impedance mismatch in our logical world model, DataSQRL provides first-class support for relationships.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- Create a relationship between holder and accounts filtered by status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">AccountHolders</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">accounts</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">status</span><span class="token plain"> STRING</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> :</span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> Accounts a</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">holder_id </span><span class="token operator">=</span><span class="token plain"> this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">holder_id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token operator">AND</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">status</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> :</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">account_type </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ASC</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>With the addition of access functions and relationships, the logical model maps directly to the entity-relationship model of GraphQL which DataSQRL uses as the logical model for API-based data retrieval. This gives DataSQRL a highly expressive interface with a simple extension of the logical model which retains conceptual simplicity of the world model.</p>
<p>The <a href="https://docs.datasqrl.com/docs/interface">interface documentation</a> provides more details on the serving layer of DataSQRL.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="physical-world-model">Physical World Model<a href="https://docs.datasqrl.com/blog/data-platform-automation#physical-world-model" class="hash-link" aria-label="Direct link to Physical World Model" title="Direct link to Physical World Model">​</a></h3>
<p>The physical world model represents <em>how</em> the data gets processed and served. It's a translation of the logical model into executable code that runs on actual data systems.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="pipeline-architecture">Pipeline Architecture<a href="https://docs.datasqrl.com/blog/data-platform-automation#pipeline-architecture" class="hash-link" aria-label="Direct link to Pipeline Architecture" title="Direct link to Pipeline Architecture">​</a></h4>
<p>With <a href="https://db-engines.com/" target="_blank" rel="noopener noreferrer">hundreds of database systems</a> and many more data infrastructure choices, it is a daunting challenge to construct a simple and coherent physical model that is flexible enough to cover the diverse needs of data platforms.</p>
<p>After analyzing a wide range of data platforms, we identified that the vast majority of implementations combine multiple data systems from these categories:</p>
<ul>
<li><strong>Database</strong>: for storing and querying data, e.g., PostgreSQL, MySQL, SQLServer, Apache Cassandra, Clickhouse, etc.<!-- -->
<ul>
<li><strong>Table Formats and Query Engines</strong>: For analytic data, separating compute from storage can save money and support multiple consumers. DataSQRL conceptualizes this as a "disintegrated database" with table formats for storage (e.g., Apache Iceberg, DeltaLake, Apache Hudi) and query engines for access (e.g., Apache Spark, Apache Flink, Snowflake).</li>
</ul>
</li>
<li><strong>Data Processor</strong>: for batch or realtime transformation of data, e.g., Apache Spark, Apache Flink, etc.</li>
<li><strong>Log/Queue</strong>: for reliably capturing data and moving it between data systems, e.g., Apache Kafka, RedPanda, Kinesis, etc.</li>
<li><strong>Server</strong>: for capturing and exposing data through an API<!-- -->
<ul>
<li><strong>Cache</strong>: sits between server and database to speed up frequent queries over less-frequently changing data.</li>
</ul>
</li>
</ul>
<p>We call each data system an <em>engine</em> and the above categories <em>engine types</em>. When looking at data platform implementations at the level of engine types, we see about 15 patterns emerge (the 10 most popular are <a href="https://docs.datasqrl.com/assets/files/architecture_pattern_overview-deb4664cba8278dbcf6bbe5611801042.png" target="_blank">documented here</a>) that arrange those engines in a directed-acyclic graph (DAG) of data processing.</p>
<p>Hence, we use a computational DAG that models the flow of data from source to interface as the basis of our physical model. Each node in the DAG represents a logical computation mapped to be executed by an engine. Thus, the physical model provides an integrated view of the entire data flow.</p>
<img src="https://docs.datasqrl.com/img/diagrams/automation_overview.png" alt="An example physical model DAG" width="100%">
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="transpiler">Transpiler<a href="https://docs.datasqrl.com/blog/data-platform-automation#transpiler" class="hash-link" aria-label="Direct link to Transpiler" title="Direct link to Transpiler">​</a></h4>
<p>While the physical model gives the AI control over what engine executes which computation, the actual mapping of logical to physical plan is done by a deterministic transpiler built in Apache Calcite. This avoids subtle bugs in data mapping and execution. The results of the transpilation are deployment assets which are executed by each engine. For example, the transpiler generates the database schema and queries for Postgres.</p>
<p>In the transpiler component, we make the following simplifying assumptions:</p>
<ul>
<li>The database engines support a version of SQL (e.g., PostgreSQL, T-SQL) or a subset thereof (e.g., Cassandra Query Language)</li>
<li>The data processor supports a SQL-based dialect (e.g., Spark SQL, Flink SQL)</li>
<li>The log engine is Apache Kafka compatible (e.g., RedPanda, Azure EventHub)</li>
<li>The server has a GraphQL execution engine.</li>
</ul>
<p>This modular architecture allows new engines to be added by conforming to the engine type interface and implementing the transpiler rules in Calcite where needed. At the same time, it abstracts much of the physical plan mapping complexity from the AI, which produces higher quality results and preserves context for higher-level reasoning.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="https://docs.datasqrl.com/blog/data-platform-automation#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h4>
<p>DataSQRL uses a <code>package.json</code> file to configure the engines used to execute a data pipeline. The configuration file defines the overall pipeline topology, the individual engine configurations, and the compiler configuration. One file controls how the physical model is derived and executed, making it simple for the AI to experiment with and fine-tune the physical model.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="interface">Interface<a href="https://docs.datasqrl.com/blog/data-platform-automation#interface" class="hash-link" aria-label="Direct link to Interface" title="Direct link to Interface">​</a></h4>
<p>For the data serving interface, we use GraphQL schema as the physical model which bidirectionally maps to the access functions, table schema, and relationships defined in the logical plan by naming convention. GraphQL fields are mapped to SQL or Kafka queries based on their respective definitions in SQRL. This allows the AI to fine-tune the API within the GraphQL schema.</p>
<p>Furthermore, REST and MCP APIs can be explicitly or implicitly defined through GraphQL operations. Implicit definition traverses the GraphQL schema from root query and mutation fields. Explicitly defined operations are provided as separate GraphQL files.</p>
<p>Using GraphQL as the physical model for the API combines simplicity with flexibility while benefiting from the prevalence of GraphQL in LLM training data.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="analysis">Analysis<a href="https://docs.datasqrl.com/blog/data-platform-automation#analysis" class="hash-link" aria-label="Direct link to Analysis" title="Direct link to Analysis">​</a></h2>
<p>The world model gives AI coding agents a frame of reference to reason about data pipeline and data product implementations. DataSQRL provides analyses to support that reasoning and give users tools to validate the correctness and quality of the generated pipelines and APIs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="verification--introspection">Verification &amp; Introspection<a href="https://docs.datasqrl.com/blog/data-platform-automation#verification--introspection" class="hash-link" aria-label="Direct link to Verification &amp; Introspection" title="Direct link to Verification &amp; Introspection">​</a></h3>
<p>Verification and introspection complement the world model by reinforcing the concepts, rules, and dependencies. DataSQRL provides analysis at 3 levels: the logical model, physical model, and deployment assets (the code that gets executed by the engines).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="logical">Logical<a href="https://docs.datasqrl.com/blog/data-platform-automation#logical" class="hash-link" aria-label="Direct link to Logical" title="Direct link to Logical">​</a></h4>
<p>At the logical level, the DataSQRL compiler verifies syntax, schemas, and data flow semantics. This ensures that the data pipeline is logically coherent and that data integration points (e.g., between the SQL definitions and GraphQL schema) are consistent.</p>
<p>One of the benefits of using relational algebra as the basis for our world model is the ability to run rules and deep traversals over the operators in the relational algebra tree. The DataSQRL compiler uses Apache Calcite's rule and RelNode traversal framework to validate timestamp propagation, infer primary keys and data types, validate table types, and more. This validation component can be extended with custom rules to validate domain-specific semantics and constraints.</p>
<p>The validation component was designed to provide comprehensive context and suggested fixes for validation errors. In our testing, this produces significantly better results compared to the AI coding agent having to look up and reason about encountered errors.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="physical">Physical<a href="https://docs.datasqrl.com/blog/data-platform-automation#physical" class="hash-link" aria-label="Direct link to Physical" title="Direct link to Physical">​</a></h4>
<p>On compilation, DataSQRL produces the computational data flow DAG that represents the physical model. DataSQRL generates a visual representation as shown above for human validation as well as a concise textual representation that is consumed by coding agents as feedback on their proposed solutions and to reinforce the conceptual data flow of the world model.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">=== CustomerTransaction</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ID:     default_catalog.default_database.CustomerTransaction</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Type:   stream</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Stage:  flink</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Inputs: default_catalog.default_database._CardAssignment, default_catalog.default_database._Merchant, default_catalog.sources.Transaction</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Annotations:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> - stream-root: Transaction</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Primary Key: transactionId, time</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Timestamp  : time</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Schema:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> - transactionId: BIGINT NOT NULL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> - cardNo: VARCHAR(2147483647) CHARACTER SET "UTF-16LE" NOT NULL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> - time: TIMESTAMP_LTZ(3) *ROWTIME* NOT NULL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> - amount: DOUBLE NOT NULL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> - merchantName: VARCHAR(2147483647) CHARACTER SET "UTF-16LE" NOT NULL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> - category: VARCHAR(2147483647) CHARACTER SET "UTF-16LE" NOT NULL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> - customerId: BIGINT NOT NULL</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This representation of the physical model combines the inferences from the logical model with the mapping to execution engines to provide a source-to-interface definition of the data flow.</p>
<p>Validation at the physical level ensures that data type mappings are consistent and that the engine assignments are valid, i.e., that an assigned engine has the capabilities to execute a particular operator. DataSQRL uses a capabilities component that extracts all requirements from an operator (e.g., temporal join, or a particular function execution) and validates that the engine supports the corresponding capabilities.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-assets">Deployment Assets<a href="https://docs.datasqrl.com/blog/data-platform-automation#deployment-assets" class="hash-link" aria-label="Direct link to Deployment Assets" title="Direct link to Deployment Assets">​</a></h4>
<p>The executable deployment assets are transpiled from the physical model. Since the transpilation is deterministic, this yields better results than letting the coding agent generate them, and it keeps the world model concise. However, we generate all deployment assets in a text representation that the coding agent can easily consume as another source of feedback. This is particularly useful during troubleshooting where the deployment assets are the ultimate source of truth of what is being executed and allow the agent to reason "backwards" to the logical model and how to fix it.</p>
<p>Specifically, we generate:</p>
<ul>
<li><strong>Database</strong>: The database schema, index structures, and (parameterized) SQL queries for all views and API entrypoints.</li>
<li><strong>Data Processor</strong>: The optimized physical plan and compiled execution plan.</li>
<li><strong>Log</strong>: The topic definitions and filter predicates.</li>
<li><strong>Server</strong>: The mapping from GraphQL fields to database or Kafka queries as well as operation definitions. Also, the GraphQL schema if it is not provided.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="optimization">Optimization<a href="https://docs.datasqrl.com/blog/data-platform-automation#optimization" class="hash-link" aria-label="Direct link to Optimization" title="Direct link to Optimization">​</a></h3>
<p>While LLMs' reasoning ability under uncertainty is outstanding, we have found LLMs to perform worse and less consistently on deterministic optimization and constraint satisfaction problems. This finding is supported by a rich body of research in <a href="https://en.wikipedia.org/wiki/Neuro-symbolic_AI" target="_blank" rel="noopener noreferrer">neuro-symbolic AI</a> which researches the integration of neural networks (like LLMs) with symbolic computation (e.g., solvers, planners) and has documented how neural networks alone fall short for such tasks.</p>
<p>DataSQRL follows the neuro-symbolic approach and provides 3 types of planners for deterministic sub-tasks in the implementation and maintenance of data pipelines:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="query-optimization">Query Optimization<a href="https://docs.datasqrl.com/blog/data-platform-automation#query-optimization" class="hash-link" aria-label="Direct link to Query Optimization" title="Direct link to Query Optimization">​</a></h4>
<p>Query rewriting and optimization is a well-established technique for producing high-performing physical plans from relational algebra. DataSQRL relies on Apache Calcite's Volcano optimizer and HEP rule engine for this purpose.</p>
<img src="https://docs.datasqrl.com/img/screenshots/banking_dag.png" alt="Architecture view of DataSQRL pipelines" width="100%">
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="physical-planning">Physical Planning<a href="https://docs.datasqrl.com/blog/data-platform-automation#physical-planning" class="hash-link" aria-label="Direct link to Physical Planning" title="Direct link to Physical Planning">​</a></h4>
<p>The physical plan DAG is subject to a number of constraints forced by the real-world constraints of physical data movement. For example, to serve data on request in the API, the data needs to be available in the database - we cannot serve the data straight from a data processor, for example. These topological constraints combined with the capabilities of individual engines render many AI-proposed solutions invalid.</p>
<p>Hence, we implement a physical planner that uses a cost model with a greedy heuristic to assign logical operators to engines in a way that is consistent. The AI can provide hints to force the assignment of certain operators to specific engines which are added as constraints to the optimizer. This gives the AI control over allocations but shifts the burden of constraint satisfaction to a dedicated solver.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="index-selection">Index Selection<a href="https://docs.datasqrl.com/blog/data-platform-automation#index-selection" class="hash-link" aria-label="Direct link to Index Selection" title="Direct link to Index Selection">​</a></h4>
<p>Efficiently querying data in the database or table format requires index structures (or partition + sort keys) that support the access paths to the data. Otherwise, we execute inefficient table scans.</p>
<p>Index structure selection is another optimization problem that is better handled by a dedicated optimizer. We use an adaptation of <a href="https://web.eecs.umich.edu/~jag/eecs584/papers/implementing_data_cube.pdf" target="_blank" rel="noopener noreferrer">Ullman et al's lattice framework for data cube selection</a> since data cube selection and index selection are related problems with different optimization functions.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="real-world-feedback">Real World Feedback<a href="https://docs.datasqrl.com/blog/data-platform-automation#real-world-feedback" class="hash-link" aria-label="Direct link to Real World Feedback" title="Direct link to Real World Feedback">​</a></h2>
<p>A world model with complementary verification and introspection provides the foundation for reasoning about data pipelines and getting feedback. However, that feedback is limited to the plan and does not account for the complexities of actual execution. Real-world feedback is critical for iterative refinement of production-grade implementations and troubleshooting issues that arise in operation.</p>
<p>DataSQRL provides two sources of real-world feedback: a simulator that's used at implementation time and telemetry collection from production deployments that captures the operational status of the pipeline.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="simulator">Simulator<a href="https://docs.datasqrl.com/blog/data-platform-automation#simulator" class="hash-link" aria-label="Direct link to Simulator" title="Direct link to Simulator">​</a></h3>
<p>The DataSQRL simulator executes the configured engines with the generated deployment assets within a Docker environment. The simulator can replay events and records at their original timestamp, allowing for deterministic reproducibility of real-world scenarios. This is important for creating realistic test cases as well as reproducing production issues for troubleshooting and regression testing.</p>
<p>By capturing and faithfully replaying records at their original timestamp, the simulator ensures time-consistent semantics of data flows and makes it simple to construct complex test cases for scenarios like race conditions.</p>
<p>Simulation is important in agentic coding workflows because it allows the agent to execute and refine the implementation in a feedback loop that is executed locally and can simulate scenarios that only occur rarely in production.</p>
<p>Read more about invoking the <a href="https://docs.datasqrl.com/docs/compiler#test-command">simulator</a> and writing <a href="https://docs.datasqrl.com/docs/howto/testing">reproducible test cases</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="operations-and-telemetry">Operations and Telemetry<a href="https://docs.datasqrl.com/blog/data-platform-automation#operations-and-telemetry" class="hash-link" aria-label="Direct link to Operations and Telemetry" title="Direct link to Operations and Telemetry">​</a></h3>
<p>The most important source of real-world feedback is observing the deployed data pipeline in a production environment (or a closely approximated pre-prod environment). Observability is critical for assessing the health of the pipeline and troubleshooting any issues that may occur.</p>
<p>Logs and telemetry collection is a well-established practice for DevOps. What DataSQRL adds is the ability to link observed data back to the physical computation DAG so the agent can accurately reason about cause and effect. For data pipelines that execute across multiple engines, many complex errors arise at the boundary between systems - e.g., an issue in the data processing causes too many writes to the database which degrades performance - and require reasoning across individual systems. To automate such troubleshooting, we need to correlate observations back to the physical data flow and logical model.</p>
<p>DataSQRL currently assumes production operation in Kubernetes or Docker and provides hooks for extracting logs and telemetry data.
Correlating that data back to the physical model is not fully abstracted yet and requires individual setup for each deployment. This is work in progress.</p>
<h1>Summary</h1>
<p>DataSQRL is a data automation framework that provides the foundational building blocks for autonomous data platforms. DataSQRL provides a logical and physical world model with validation and introspection for agentic implementation and refinement. It uses a neuro-symbolic approach for integrating solvers, planners, and transpilers to handle deterministic optimizations, following the principle of keeping the agentic context and task scope narrow to improve accuracy.
DataSQRL supplies real-world feedback to coding agents through its embedded simulator and telemetry orchestration.</p>
<p>DataSQRL is a flexible framework that can be adapted to multiple data engines and extended for custom verification rules.</p>
<p><a href="https://github.com/DataSQRL/sqrl" target="_blank" rel="noopener noreferrer">DataSQRL is open-source</a> so you can customize it to build a self-driving data platform tailored to your requirements.</p>
<h1>Getting Started</h1>
<p>To try out DataSQRL:</p>
<ol>
<li><a href="https://docs.datasqrl.com/docs/intro/getting-started">Build a project from scratch with DataSQRL</a> to see how the components of DataSQRL work</li>
<li><a href="https://github.com/DataSQRL/datasqrl-examples" target="_blank" rel="noopener noreferrer">Look at example projects</a> and run/modify them locally.</li>
<li><a href="https://docs.datasqrl.com/blog/docs/intro/index">Read the documentation</a></li>
<li><a href="https://github.com/DataSQRL/sqrl" target="_blank" rel="noopener noreferrer">Check out the open-source project on GitHub</a></li>
</ol>]]></content>
        <author>
            <name>Matthias Broecheler</name>
            <uri>https://github.com/mbroecheler</uri>
        </author>
        <category label="Release" term="Release"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[DataSQRL 0.7 Release: The Data Delivery Interface]]></title>
        <id>https://docs.datasqrl.com/blog/datasqrl-0.7-release</id>
        <link href="https://docs.datasqrl.com/blog/datasqrl-0.7-release"/>
        <updated>2025-07-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[|" width="40%"/>]]></summary>
        <content type="html"><![CDATA[
<img src="https://docs.datasqrl.com/img/blog/release_0.7.0.png" alt="DataSQRL 0.7.0 Release >|" width="40%">
<p>DataSQRL 0.7 marks a major milestone in our journey to automate data pipelines, thanks to significant improvements to the serving layer:</p>
<ul>
<li>Support for the Model Context Protocol (MCP) for tooling and resource access</li>
<li>REST API support</li>
<li>JWT-based authentication and authorization</li>
</ul>
<p>These features enable developers to build a wide range of production-ready data interfaces.
This release also includes performance and configuration improvements to the serving layer of DataSQRL-generated pipelines.</p>
<p>You can find the full release notes and source code on our <a href="https://github.com/DataSQRL/sqrl/releases/tag/0.7.0" target="_blank" rel="noopener noreferrer">GitHub release page</a>.
To update your local installation of DataSQRL, simply pull the latest Docker image:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker pull datasqrl/cmd:0.7.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-last-mile-data-delivery">The Last Mile: Data Delivery<a href="https://docs.datasqrl.com/blog/datasqrl-0.7-release#the-last-mile-data-delivery" class="hash-link" aria-label="Direct link to The Last Mile: Data Delivery" title="Direct link to The Last Mile: Data Delivery">​</a></h2>
<p>Data delivery is the final and most visible stage of any data pipeline. It's how users, applications, and AI agents actually access and consume data. Most enterprise data interactions happen through APIs, making the delivery interface a critical component. At DataSQRL, we've invested heavily in automating the upstream parts of the pipeline: from Flink-powered data processing to Postgres-backed storage. With version 0.7, we turn our focus to the serving layer: introducing support for the Model Context Protocol (MCP) and REST APIs, as well as JWT-based authentication and authorization. These additions ensure seamless integration with most authentication providers and enable secure, token-based data access, with fine-grained authorization logic enforced directly in the SQRL script. This completes our vision of end-to-end pipeline automation, where consumption patterns inform data storage and processing—closing the loop between data production and usage.</p>
<p>Check out the <a href="https://docs.datasqrl.com/docs/interface">interface documentation</a> for more information.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="major-contributions">Major Contributions<a href="https://docs.datasqrl.com/blog/datasqrl-0.7-release#major-contributions" class="hash-link" aria-label="Direct link to Major Contributions" title="Direct link to Major Contributions">​</a></h2>
<p>In addition to the flagship features—MCP, REST, and JWT support—which we’ll discuss in more detail in future blog posts, the 0.7.0 release contains a number of additional features and improvements.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration--cli-improvements">Configuration &amp; CLI Improvements<a href="https://docs.datasqrl.com/blog/datasqrl-0.7-release#configuration--cli-improvements" class="hash-link" aria-label="Direct link to Configuration &amp; CLI Improvements" title="Direct link to Configuration &amp; CLI Improvements">​</a></h3>
<ul>
<li>Refactored CLI and Flink configuration logic.</li>
<li>Improved error messages during package config validation.</li>
<li>Enforced predictable ordering and sorting of config keys.</li>
<li>Migrated deprecated config key naming (<code>-dir</code> → <code>-folder</code>), now with compile-time warnings.</li>
<li>Standardized configuration schema and structured logging to <code>/build/logs</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="testing-infrastructure-enhancements">Testing Infrastructure Enhancements<a href="https://docs.datasqrl.com/blog/datasqrl-0.7-release#testing-infrastructure-enhancements" class="hash-link" aria-label="Direct link to Testing Infrastructure Enhancements" title="Direct link to Testing Infrastructure Enhancements">​</a></h3>
<ul>
<li>Added new <code>sqrl-container-testing</code> module.</li>
<li>Converted tests to use AssertJ.</li>
<li>Increased test coverage for <code>SqrlConfig</code> and dependency mapping.</li>
<li>Fixed test runner error reporting and exit code handling.</li>
<li>Reworked dependent service startup to trigger post-compilation.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flink-sql-runner-integration">Flink-SQL Runner Integration<a href="https://docs.datasqrl.com/blog/datasqrl-0.7-release#flink-sql-runner-integration" class="hash-link" aria-label="Direct link to Flink-SQL Runner Integration" title="Direct link to Flink-SQL Runner Integration">​</a></h3>
<ul>
<li>Integrated <code>flink-sql-runner</code> into <code>DatasqrlRun</code>.</li>
<li>Temporarily merged <code>sqrl-test</code> module into <code>sqrl-run</code>.</li>
<li>Simplified Docker image setup (public <code>ghcr.io</code> images).</li>
<li>Updated submodule paths and version to <code>0.7.0</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="authentication--api-enhancements">Authentication &amp; API Enhancements<a href="https://docs.datasqrl.com/blog/datasqrl-0.7-release#authentication--api-enhancements" class="hash-link" aria-label="Direct link to Authentication &amp; API Enhancements" title="Direct link to Authentication &amp; API Enhancements">​</a></h3>
<ul>
<li>Added initial JWT-based authentication support.</li>
<li>Published documentation for JWT and Swagger-based OpenAPI specs for REST endpoints.</li>
<li>Added batch GraphQL mutation support with transactional semantics.</li>
<li>Replaced <code>GraphQLBigInteger</code> with native <code>Long</code> handling.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kafka--runtime-improvements">Kafka &amp; Runtime Improvements<a href="https://docs.datasqrl.com/blog/datasqrl-0.7-release#kafka--runtime-improvements" class="hash-link" aria-label="Direct link to Kafka &amp; Runtime Improvements" title="Direct link to Kafka &amp; Runtime Improvements">​</a></h3>
<ul>
<li>Kafka topic names now support templating.</li>
<li>Added an async OpenAI test use case and resolved snapshot issues.</li>
<li>Fixed intermittent WebSocket failures in <code>SubscriptionClient</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-structure-and-ci-pipeline">Project Structure and CI Pipeline<a href="https://docs.datasqrl.com/blog/datasqrl-0.7-release#project-structure-and-ci-pipeline" class="hash-link" aria-label="Direct link to Project Structure and CI Pipeline" title="Direct link to Project Structure and CI Pipeline">​</a></h3>
<ul>
<li>Simplified project structure and removed outdated dependency declarations.</li>
<li>Refactored CI pipeline and added automated GitHub package cleanup workflow.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="updated-dependencies">Updated Dependencies<a href="https://docs.datasqrl.com/blog/datasqrl-0.7-release#updated-dependencies" class="hash-link" aria-label="Direct link to Updated Dependencies" title="Direct link to Updated Dependencies">​</a></h3>
<p>Upgraded versions for the following dependencies and patched critical vulnerabilities:</p>
<ul>
<li>Apache Flink and Flink connectors (e.g., Postgres CDC)</li>
<li>Vert.x and related plugins</li>
<li>Apache Iceberg, DuckDB, PostgreSQL JDBC</li>
<li>AWS SDK BOM</li>
<li>JSON Schema Validator, Netty, OpenCSV</li>
<li>Micrometer, Log4j, Reactor, Immutables, Testcontainers</li>
<li>Maven plugins: Enforcer, GPG, Build-helper</li>
</ul>]]></content>
        <author>
            <name>Matthias Broecheler</name>
            <uri>https://github.com/mbroecheler</uri>
        </author>
        <category label="Release" term="Release"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Flink SQL Runner: Run Flink SQL Without JARs or Glue Code]]></title>
        <id>https://docs.datasqrl.com/blog/flinkrunner-announcement</id>
        <link href="https://docs.datasqrl.com/blog/flinkrunner-announcement"/>
        <updated>2025-06-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Apache Flink has long been a powerhouse for streaming and batch data processing. And with the rise of Flink SQL, developers can now build sophisticated pipelines using a declarative language they already know. But getting Flink SQL applications into production still comes with friction: packaging JARs, managing connectors, injecting secrets, and wiring up deployment infrastructure.]]></summary>
        <content type="html"><![CDATA[
<p>Apache Flink has long been a powerhouse for streaming and batch data processing. And with the rise of Flink SQL, developers can now build sophisticated pipelines using a declarative language they already know. But getting Flink SQL applications into production still comes with friction: packaging JARs, managing connectors, injecting secrets, and wiring up deployment infrastructure.</p>
<img src="https://docs.datasqrl.com/img/blog/flinksqlrunner_logo.png" alt="FlinkSQL Runner >" width="40%">
<p><a href="https://github.com/DataSQRL/flink-sql-runner/" target="_blank" rel="noopener noreferrer"><strong>Flink SQL Runner</strong></a> is here to change that. It's an open-source toolkit that simplifies development, deployment, and operation of Flink SQL applications—locally or in Kubernetes—without manual JAR assembly or scripting custom infrastructure pipelines.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="from-sql-to-production-minus-the-plumbing">From SQL to Production, Minus the Plumbing<a href="https://docs.datasqrl.com/blog/flinkrunner-announcement#from-sql-to-production-minus-the-plumbing" class="hash-link" aria-label="Direct link to From SQL to Production, Minus the Plumbing" title="Direct link to From SQL to Production, Minus the Plumbing">​</a></h2>
<p>Imagine you're writing a Flink SQL job that reads from Kafka, enriches the data, and sinks to Iceberg. In theory, it's just SQL. But in practice, production deployment requires:</p>
<ul>
<li>Assembling dependencies into a JAR</li>
<li>Writing YAML to configure connectors</li>
<li>Injecting secrets for different environments</li>
</ul>
<p>Flink SQL Runner eliminates those headaches. You get:</p>
<ul>
<li><strong>Declarative execution</strong> with SQL scripts or compiled plans</li>
<li><strong>Simple deployments</strong> on Kubernetes via Flink Operator</li>
<li><strong>Environment isolation</strong> with variable substitution and UDF packaging</li>
</ul>
<p>All without leaving the SQL layer.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-features">Key Features<a href="https://docs.datasqrl.com/blog/flinkrunner-announcement#key-features" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features">​</a></h3>
<ul>
<li><strong>SQL and Plan Execution</strong>: Run raw SQL scripts or pre-compiled execution plans.</li>
<li><strong>Kubernetes-Native</strong>: Built for the Flink Kubernetes Operator—deploy SQL jobs without writing infrastructure code.</li>
<li><strong>Composable Toolkit</strong>: Use the pieces you need—Docker image, libraries, extensions—to suit your environment.</li>
<li><strong>Environment Variable Substitution</strong>: Inject secrets and environment-specific config into SQL or plan files using <code>${ENV_VAR}</code> syntax.</li>
<li><strong>UDF Infrastructure</strong>: Load custom JARs and register system functions easily.</li>
<li><strong>Function Libraries</strong>: Drop-in UDFs for advanced math and OpenAI integration.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flexible-and-extensible">Flexible and Extensible<a href="https://docs.datasqrl.com/blog/flinkrunner-announcement#flexible-and-extensible" class="hash-link" aria-label="Direct link to Flexible and Extensible" title="Direct link to Flexible and Extensible">​</a></h3>
<p>Flink SQL Runner is not a monolith. You can:</p>
<ul>
<li>Run it standalone with Docker.</li>
<li>Deploy it with the Flink Kubernetes Operator.</li>
<li>Extend it via Maven or Gradle in your own Flink stack:</li>
</ul>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">com.datasqrl.flinkrunner</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">flink-sql-runner</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">0.6.0</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="get-started">Get Started<a href="https://docs.datasqrl.com/blog/flinkrunner-announcement#get-started" class="hash-link" aria-label="Direct link to Get Started" title="Direct link to Get Started">​</a></h2>
<p>The Flink SQL Runner project is open source and <a href="https://github.com/datasqrl/flink-sql-runner" target="_blank" rel="noopener noreferrer">available on Github</a>.
Check out the README for more information on how to use and deploy the Flink SQL Runner.</p>
<p>Try it out, report issues, or contribute your own UDFs.</p>]]></content>
        <author>
            <name>Matthias Broecheler</name>
            <uri>https://github.com/mbroecheler</uri>
        </author>
        <category label="Flink" term="Flink"/>
        <category label="DataSQRL" term="DataSQRL"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Defining Data Interfaces with FlinkSQL]]></title>
        <id>https://docs.datasqrl.com/blog/flinksql-extensions</id>
        <link href="https://docs.datasqrl.com/blog/flinksql-extensions"/>
        <updated>2025-05-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[FlinkSQL is an amazing innovation in data processing: it packages the power of realtime stream processing within the simplicity of SQL.]]></summary>
        <content type="html"><![CDATA[
<p><a href="https://nightlies.apache.org/flink/flink-docs-release-1.19/docs/dev/table/sql/overview/" target="_blank" rel="noopener noreferrer">FlinkSQL</a> is an amazing innovation in data processing: it packages the power of realtime stream processing within the simplicity of SQL.
That means you can start with the SQL you know and introduce stream processing constructs as you need them.</p>
<img src="https://docs.datasqrl.com/img/blog/flinksql_extension_api.png" alt="FlinkSQL API Extension >" width="40%">
<p>FlinkSQL adds the ability to process data incrementally to the classic set-based semantics of SQL. In addition, FlinkSQL supports source and sink connectors making it easy to ingest data from and move data to other systems. That's a powerful combination which covers a lot of data processing use cases.</p>
<p>In fact, it only takes a few extensions to FlinkSQL to build entire data applications. Let's see how that works.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-data-apis-with-flinksql">Building Data APIs with FlinkSQL<a href="https://docs.datasqrl.com/blog/flinksql-extensions#building-data-apis-with-flinksql" class="hash-link" aria-label="Direct link to Building Data APIs with FlinkSQL" title="Direct link to Building Data APIs with FlinkSQL">​</a></h2>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">TABLE</span><span class="token plain"> UserTokens </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">userid </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BIGINT</span><span class="token plain"> </span><span class="token operator">NOT</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tokens </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BIGINT</span><span class="token plain"> </span><span class="token operator">NOT</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">request_time TIMESTAMP_LTZ</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">NOT</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token plain"> METADATA </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'timestamp'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">/*+query_by_all(userid) */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">TotalUserTokens :</span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> userid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">sum</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">tokens</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> total_tokens</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">tokens</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> total_requests</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> UserTokens </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> userid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">UserTokensByTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">userid </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BIGINT</span><span class="token plain"> </span><span class="token operator">NOT</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> fromTime </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">TIMESTAMP</span><span class="token plain"> </span><span class="token operator">NOT</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> toTime </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">TIMESTAMP</span><span class="token plain"> </span><span class="token operator">NOT</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">:</span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> UserTokens </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> userid </span><span class="token operator">=</span><span class="token plain"> :userid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                request_time </span><span class="token operator">&gt;=</span><span class="token plain"> :fromTime </span><span class="token operator">AND</span><span class="token plain"> request_time </span><span class="token operator">&lt;</span><span class="token plain"> :toTime </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> request_time </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">UsageAlert :</span><span class="token operator">=</span><span class="token plain"> SUBSCRIBE </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> UserTokens </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> tokens </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">100000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This script defines a sequence of tables. We introduce <code>:=</code> as syntactic sugar for the verbose <code>CREATE TEMPORARY VIEW</code> syntax.</p>
<p>The <code>UserTokens</code> table does not have a configured connector, which mean we treat it as an API mutation endpoint connected to Flink via a Kafka topic that captures the events. This makes it easy to build APIs that capture user activity, transactions, or other types of events.</p>
<p>Next, we sum up the data collected through the API for each user. This is a standard FlinkSQL aggregation query and we expose the result in our API through the <code>query_by_all</code> hint which defines the arguments for the query endpoint of that table.</p>
<p>We can also explicitly define query endpoints with arguments through SQL table functions. FlinkSQL supports table functions natively. All we had to do is provide the syntax for defining the function signature.</p>
<p>And last, the <code>SUBSCRIBE</code> keyword in front of the query defines a subscription endpoint for requests exceeding a certain token count which get pushed to clients in real-time.</p>
<p>Voila, we just build ourselves a complete GraphQL API with mutation, query, and subscription endpoints.
Run the above script with DataSQRL to see the result:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run -it --rm -p 8888:8888 -v $PWD:/build datasqrl/cmd run usertokens.sqrl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="relationships-for-complex-data-structures">Relationships for Complex Data Structures<a href="https://docs.datasqrl.com/blog/flinksql-extensions#relationships-for-complex-data-structures" class="hash-link" aria-label="Direct link to Relationships for Complex Data Structures" title="Direct link to Relationships for Complex Data Structures">​</a></h2>
<p>And for extra credit, we can define relationships in FlinkSQL to represent the structure of our data explicitly and expose it in the API:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">totalTokens :</span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> TotalUserTokens t </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">userid </span><span class="token operator">=</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">userid </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>User</code> table in this example is read from an upsert Kafka topic using a standard FlinkSQL <code>CREATE TABLE</code> statement.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="code-modularity-and-connector-management">Code Modularity and Connector Management<a href="https://docs.datasqrl.com/blog/flinksql-extensions#code-modularity-and-connector-management" class="hash-link" aria-label="Direct link to Code Modularity and Connector Management" title="Direct link to Code Modularity and Connector Management">​</a></h2>
<p>Many FlinkSQL projects break the codebase into multiple files for better code readability, modularity, or to swap out sources and sinks. That requires extra infrastructure to manage FlinkSQL files and stitch them together.</p>
<p>How about we do that directly in FlinkSQL?</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">IMPORT</span><span class="token plain"> source</span><span class="token operator">-</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">User</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here, we import the <code>User</code> table from a separate file within the <code>source-data</code> directory, allowing us to separate the data processing logic from the source configurations. It also enables us to use dependency management to swap out sources for local testing vs production.</p>
<p>And we can do the same for sinks:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">EXPORT UsageAlert </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">TO</span><span class="token plain"> mysinks</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">UsageAlert</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In addition to breaking out the sink configuration from the main script, the <code>EXPORT</code> statement functions as an <code>INSERT INTO</code> statement and creates a <code>STATEMENT SET</code> implicitly. That makes the code easier to read.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="learn-more">Learn More<a href="https://docs.datasqrl.com/blog/flinksql-extensions#learn-more" class="hash-link" aria-label="Direct link to Learn More" title="Direct link to Learn More">​</a></h2>
<p><a href="https://nightlies.apache.org/flink/flink-docs-release-1.19/docs/dev/table/sql/overview/" target="_blank" rel="noopener noreferrer">FlinkSQL</a> is phenomenal extension of the SQL ecosystem to stream processing. With DataSQRL, we are trying to make it easier to build end-to-end data pipelines and complete data applications with FlinkSQL.</p>
<p>Check out the <a href="https://docs.datasqrl.com/docs/intro/getting-started">complete example</a> which also covers testing, customization, and deployment. Or read the <a href="https://docs.datasqrl.com/docs/sqrl-language">documentation</a> to learn more.</p>]]></content>
        <author>
            <name>Matthias Broecheler</name>
            <uri>https://github.com/mbroecheler</uri>
        </author>
        <category label="Join" term="Join"/>
        <category label="Flink" term="Flink"/>
        <category label="DataSQRL" term="DataSQRL"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[DataSQRL 0.6 Release: The Streaming Data Framework]]></title>
        <id>https://docs.datasqrl.com/blog/datasqrl-0.6-release</id>
        <link href="https://docs.datasqrl.com/blog/datasqrl-0.6-release"/>
        <updated>2025-05-07T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The DataSQRL community is proud to announce the release of DataSQRL 0.6. This release marks a major milestone in the evolution of our open-source project, bringing enhanced alignment with Flink SQL and powerful new capabilities to the real-time serving layer.]]></summary>
        <content type="html"><![CDATA[
<p>The DataSQRL community is proud to announce the release of DataSQRL 0.6. This release marks a major milestone in the evolution of our open-source project, bringing enhanced alignment with Flink SQL and powerful new capabilities to the real-time serving layer.</p>
<img src="https://docs.datasqrl.com/img/blog/release_0.6.0.png" alt="DataSQRL 0.6.0 Release >" width="40%">
<p>You can find the full release notes and source code on our <a href="https://github.com/DataSQRL/sqrl/releases/tag/0.6.0" target="_blank" rel="noopener noreferrer">GitHub release page</a>.
To get started with the latest compiler, simply pull the latest Docker image:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker pull datasqrl/cmd:0.6.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-new-chapter-flink-sql-integration">A New Chapter: Flink SQL Integration<a href="https://docs.datasqrl.com/blog/datasqrl-0.6-release#a-new-chapter-flink-sql-integration" class="hash-link" aria-label="Direct link to A New Chapter: Flink SQL Integration" title="Direct link to A New Chapter: Flink SQL Integration">​</a></h2>
<p>With DataSQRL 0.6, we are embracing the Flink ecosystem more deeply than ever before. This release introduces a complete re-architecture of the DataSQRL compiler to build directly on top of Flink SQL's parser and planner. By aligning our internal model with Flink SQL semantics, we unlock a host of new capabilities and bring DataSQRL users closer to the vibrant Flink ecosystem.</p>
<p>This architectural shift allows DataSQRL to:</p>
<ul>
<li><strong>Use Flink SQL syntax as the foundation</strong>, enabling more intuitive query definitions and easier onboarding for users familiar with Flink.</li>
<li><strong>Extend Flink SQL with domain-specific features</strong>, such as declarative relationship definitions and functions to define the data interface.</li>
<li><strong>Transpile FlinkSQL to database dialects</strong> for query execution.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="serving-layer-power-functions--relationships">Serving-Layer Power: Functions &amp; Relationships<a href="https://docs.datasqrl.com/blog/datasqrl-0.6-release#serving-layer-power-functions--relationships" class="hash-link" aria-label="Direct link to Serving-Layer Power: Functions &amp; Relationships" title="Direct link to Serving-Layer Power: Functions &amp; Relationships">​</a></h2>
<p>DataSQRL 0.6 introduces first-class support for defining <strong>functions</strong> and <strong>relationships</strong> in your SQRL scripts. These constructs make it easier to model complex application logic in a modular, declarative fashion.</p>
<p>These features are purpose-built for powering LLM-ready APIs, event-driven architectures, and real-time user-facing applications.</p>
<p>Check out the <a href="https://docs.datasqrl.com/docs/sqrl-language">language documentation</a> for details.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="developer-tooling">Developer Tooling<a href="https://docs.datasqrl.com/blog/datasqrl-0.6-release#developer-tooling" class="hash-link" aria-label="Direct link to Developer Tooling" title="Direct link to Developer Tooling">​</a></h2>
<p>DataSQRL 0.6 provides a docker image for compiling, running, and testing SQRL projects. You can now quickly iterate and check the results. Or run automated tests in CI/CD.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-artifacts">Deployment Artifacts<a href="https://docs.datasqrl.com/blog/datasqrl-0.6-release#deployment-artifacts" class="hash-link" aria-label="Direct link to Deployment Artifacts" title="Direct link to Deployment Artifacts">​</a></h2>
<p>DataSQRL 0.6 removes deployment profiles and instead generates all deployment artifacts in the <code>build/deploy/plan</code> folder. This makes it easier to integrate with Kubernetes deployment processes (e.g. via Helm) or cloud managed service deployments (e.g. via Terraform).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes--migration-path">Breaking Changes &amp; Migration Path<a href="https://docs.datasqrl.com/blog/datasqrl-0.6-release#breaking-changes--migration-path" class="hash-link" aria-label="Direct link to Breaking Changes &amp; Migration Path" title="Direct link to Breaking Changes &amp; Migration Path">​</a></h2>
<p>As this is a major release, <strong>DataSQRL 0.6 is not backwards compatible</strong> with version 0.5. The syntax and internal representation have been updated to align with Flink SQL and to support the new compiler architecture.</p>
<p>To help you transition, we’ve provided updated examples and migration guidance in the <a href="https://github.com/DataSQRL/datasqrl-examples" target="_blank" rel="noopener noreferrer">DataSQRL examples repository</a>. We recommend starting with one of the updated use cases to get a feel for the new workflow.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="thanks-to-the-community">Thanks to the Community<a href="https://docs.datasqrl.com/blog/datasqrl-0.6-release#thanks-to-the-community" class="hash-link" aria-label="Direct link to Thanks to the Community" title="Direct link to Thanks to the Community">​</a></h2>
<p>This release wouldn’t have been possible without the contributions, bug reports, and thoughtful feedback from our growing community. Whether you opened a pull request, filed an issue, or joined a discussion, thank you. Your support drives this project forward.</p>
<p>We’re excited to see what you build with DataSQRL 0.6. If you haven’t joined the <a href="https://docs.datasqrl.com/community">community</a> yet, now’s a great time to get involved: star us on <a href="https://github.com/DataSQRL/sqrl" target="_blank" rel="noopener noreferrer">GitHub</a>, try out the latest release, and share your thoughts.</p>
<p>Stay tuned for more updates, and happy building.</p>]]></content>
        <author>
            <name>Matthias Broecheler</name>
            <uri>https://github.com/mbroecheler</uri>
        </author>
        <category label="Release" term="Release"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Why Temporal Join is Stream Processing’s Superpower]]></title>
        <id>https://docs.datasqrl.com/blog/temporal-join</id>
        <link href="https://docs.datasqrl.com/blog/temporal-join"/>
        <updated>2023-07-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Stream processing technologies like Apache Flink introduce a new type of data transformation that’s very powerful: the temporal join. Temporal joins add context to data streams while being efficient and fast to execute.]]></summary>
        <content type="html"><![CDATA[
<p>Stream processing technologies like Apache Flink introduce a new type of data transformation that’s very powerful: the temporal join. Temporal joins add context to data streams while being efficient and fast to execute.</p>
<img src="https://docs.datasqrl.com/img/blog/temporal_join.svg" alt="Temporal Join >" width="30%">
<p>This article introduces the temporal join, compares it to the traditional inner join, explains when to use it, and why it is a secret superpower.</p>
<p>Table of Contents:</p>
<ul>
<li><a href="https://docs.datasqrl.com/blog/temporal-join#review">The Join: A Quick Review</a></li>
<li><a href="https://docs.datasqrl.com/blog/temporal-join#tempjoin">The Temporal Join: Linking Stream and State</a></li>
<li><a href="https://docs.datasqrl.com/blog/temporal-join#tempinner">Temporal Join vs Inner Join</a></li>
<li><a href="https://docs.datasqrl.com/blog/temporal-join#efficient">Why Temporal Joins are Fast and Efficient</a></li>
<li><a href="https://docs.datasqrl.com/blog/temporal-join#easy">Temporal Joins Made Easy to Use</a></li>
<li><a href="https://docs.datasqrl.com/blog/temporal-join#summary">Summary</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="review">The Join: A Quick Review<a href="https://docs.datasqrl.com/blog/temporal-join#review" class="hash-link" aria-label="Direct link to The Join: A Quick Review" title="Direct link to The Join: A Quick Review">​</a></h2>
<p>Let's take a quick detour down memory lane and revisit the good ol' join operation. That trusty sidekick in your SQL utility belt helps you link data from two or more tables based on a related column between them.</p>
<p>Suppose we are operating a factory with a number of machines that roast and package coffee. We place sensors on each machine to monitor the temperature and detect overheating.</p>
<p>We keep track of the sensors and machines in two database tables.</p>
<p>The <code>Sensor</code> table contains the serial number and machine id that the sensor is placed on.</p>
<table><thead><tr><th>id</th><th>serialNo</th><th>machineid</th></tr></thead><tbody><tr><td>1</td><td>X57-774</td><td>501</td></tr><tr><td>2</td><td>X33-453</td><td>203</td></tr><tr><td>3</td><td>X54-554</td><td>501</td></tr></tbody></table>
<p>The <code>Machine</code> table contains the name of each machine.</p>
<table><thead><tr><th>id</th><th>name</th></tr></thead><tbody><tr><td>203</td><td>Iron Roaster</td></tr><tr><td>501</td><td>Gritty Grinder</td></tr></tbody></table>
<p>To identify all the sensors on the machine “Iron Roaster” we use the following SQL query which joins the <code>Sensor</code> and <code>Machine</code> tables:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">serialNo </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> Sensor s </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">JOIN</span><span class="token plain"> Machine m </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ON</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">machineid </span><span class="token operator">=</span><span class="token plain"> m</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">id </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">WHERE</span><span class="token plain"> m</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">name </span><span class="token operator">=</span><span class="token plain"> “Iron Roaster”</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Why are joins important? Without it, your data tables are like islands, isolated and lonely. Joins bring them together, creating meaningful relationships between data, and enriching data records with context to see the bigger picture.</p>
<p>By default, databases execute joins as <strong>inner</strong> joins which means only matching records are included in the join.</p>
<p>So, now that we've refreshed our memory about the classic join, let's dive into the exciting world of temporal joins in stream processing systems like Apache Flink.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tempjoin">The Temporal Join: Linking Stream and State<a href="https://docs.datasqrl.com/blog/temporal-join#tempjoin" class="hash-link" aria-label="Direct link to The Temporal Join: Linking Stream and State" title="Direct link to The Temporal Join: Linking Stream and State">​</a></h2>
<img src="https://docs.datasqrl.com/img/blog/delorean.jpeg" alt="Temporal Join DeLorean >" width="40%">
<p>Picture this: you're a time traveler. You have the power to access any point in time, past or future, at your will. Now, imagine that your data could do the same. Enter the Temporal Join, the DeLorean of data operations, capable of taking your data on a time-traveling adventure.</p>
<p>A Temporal Join is like a regular join but with a twist. It allows you to join a stream of data (the time traveler) with a versioned table (the timeline) based on the time attribute of the data stream. This means that for each record in the stream, the join will find the most recent record in the versioned table that is less than or equal to the stream record's time.</p>
<p>The versioned table is a normal state table where we keep track of data changes over time. That is, we keep older versions of each record around to allow the stream to match the correct version in time. Like time travel, temporal joins can make your head spin a bit. Let’s look at an example to break it down.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tempinner">Temporal Join vs Inner Join<a href="https://docs.datasqrl.com/blog/temporal-join#tempinner" class="hash-link" aria-label="Direct link to Temporal Join vs Inner Join" title="Direct link to Temporal Join vs Inner Join">​</a></h2>
<p>Back to our coffee roasting factory, we collect the temperature readings from each sensor in a data stream.</p>
<table><thead><tr><th>timestamp</th><th>sensorid</th><th>temperature</th></tr></thead><tbody><tr><td>2023-07-10T07:11:08</td><td>1</td><td>105.2</td></tr><tr><td>2023-07-10T07:11:08</td><td>2</td><td>83.1</td></tr><tr><td>...</td><td></td><td></td></tr><tr><td>2023-07-10T13:25:16</td><td>1</td><td>77.8</td></tr><tr><td>2023-07-10T13:25:16</td><td>2</td><td>83.5</td></tr></tbody></table>
<p>And we want to know the maximum temperature recorded for each machine.</p>
<p>Easy enough, let’s join the temperature data stream with the Sensors table and aggregate by machine id:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">machineid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">MAX</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">temperature</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> maxTemp </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> SensorReading r </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">INNER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">JOIN</span><span class="token plain"> Sensor s </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ON</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sensorid </span><span class="token operator">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">id </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">machineid</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>But here is a problem: What if we moved a sensor from one machine to another during the day? With an inner join, all of the sensor’s readings would be linked to the machine it was last placed on. So, if sensor 1 records a high temperature of 105 degrees in the morning and we move the sensor to the “Iron Roaster” machine in the afternoon, then we might see the 105 degrees falsely show up as the maximum temperature for the Iron Roaster. See how time played a trick on our join?</p>
<p>And this happens whenever we join a data stream with a state table that changes over time, like our sensors that get moved around the factory. What to do? Let’s call the temporal join to our rescue:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">machineid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">MAX</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">temperature</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> maxTemp </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> SensorReading r </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">JOIN</span><span class="token plain"> Sensor </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FOR</span><span class="token plain"> SYSTEM_TIME </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">OF</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token identifier punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token identifier">timestamp</span><span class="token identifier punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ON</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sensorid </span><span class="token operator">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">id </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">machineid</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Pretty much the same query, just a different join type. Just a heads-up: the syntax for temporal joins in Flink SQL is more complex - we'll get to that <a href="https://docs.datasqrl.com/blog/temporal-join#easy">later</a>.</p>
<p>As a temporal join, we are joining each sensor reading with the version of the sensor record at the time of the data stream. In other words, the join not only matches the sensor reading with the sensor record based on the id but also based on the timestamp of the reading to ensure it matches the right version of the sensor record. Pretty neat, right?</p>
<p>Whenever you join a data stream with a state that changes over time, you want to use the temporal join to make sure your data is lined up correctly in time. Temporal joins are a powerful feature of stream processing engines that would be difficult to implement in a database.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="efficient">Why Temporal Joins are Fast and Efficient<a href="https://docs.datasqrl.com/blog/temporal-join#efficient" class="hash-link" aria-label="Direct link to Why Temporal Joins are Fast and Efficient" title="Direct link to Why Temporal Joins are Fast and Efficient">​</a></h2>
<img src="https://docs.datasqrl.com/img/blog/flink_logo.svg" alt="Apache Flink >" width="30%">
<p>Not only do temporal joins solve the time-alignment problem when joining data streams with changing state, modern stream processors like Apache Flink are also incredibly efficient at executing temporal joins. A powerful feature with great performance? Sounds too good to be true. Let’s peek behind the stream processing curtain to find out why.</p>
<p>In stream processing, joins are maintained as the underlying data changes over time. That requires the stream engine to hold all the data it needs to update join records when either side of the join changes. This makes inner joins pretty expensive on data streams.</p>
<p>Consider our max-temperature query with the inner join: When we join a temperature reading with the corresponding sensor record, and that record changes, the engine has to update the result join record. To do so, it has to store all the sensor readings to determine which join results are affected by a change in a sensor record. This can lead to a lot of updates and hence a lot of downstream computation. It can also cause system failure when there are a lot of temperature readings in our data stream because the stream engine has to store all of them.</p>
<p>Temporal joins, on the other hand, can be executed much more efficiently. The stream engine only needs to store the versions of the sensor table that are within the time bounds of the sensor reading data stream. And it only has to briefly store (if at all) the sensor reading records to ensure they are joined with the most up-to-date sensor records. Moreover, temporal joins don’t require sending out a massive amount of updated join records when sensors change placement since the join is fixed in time.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Time to Wrap Up This Temporal Journey<a href="https://docs.datasqrl.com/blog/temporal-join#summary" class="hash-link" aria-label="Direct link to Time to Wrap Up This Temporal Journey" title="Direct link to Time to Wrap Up This Temporal Journey">​</a></h2>
<p>We've reached the end of our time-traveling adventure through the universe of temporal joins. We've seen how they're like the DeLorean of data operations, zipping us back and forth through time to make sure our data matches up just right. We've also compared them to the good ol' inner join.</p>
<p>Temporal joins help us avoid the pitfalls of time-alignment problems when joining data streams with changing state. They're also super efficient, making them a great choice for high-volume, real-time data processing.</p>
<p>And that’s why the temporal join is stream processing's secret superpower.</p>
<p>DataSQRL makes using temporal joins a breeze. With its simplified syntax and smart defaults, it's like having a personal tour guide leading you through the sometimes bewildering landscape of stream processing. Take a look at our <a href="https://docs.datasqrl.com/docs/intro/getting-started">Getting Started</a> to see a complete example of temporal joins in action or take a look at our <a href="https://docs.datasqrl.com/docs/intro/tutorials">other tutorials</a> for a step-by-step guide to stream processing including temporal joins.</p>
<p>Happy data time-traveling, folks!</p>]]></content>
        <author>
            <name>Matthias Broecheler</name>
            <uri>https://github.com/mbroecheler</uri>
        </author>
        <category label="Join" term="Join"/>
        <category label="Flink" term="Flink"/>
        <category label="DataSQRL" term="DataSQRL"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Let's Uplevel Our Database Game: Meet DataSQRL]]></title>
        <id>https://docs.datasqrl.com/blog/lets-uplevel-database-datasqrl</id>
        <link href="https://docs.datasqrl.com/blog/lets-uplevel-database-datasqrl"/>
        <updated>2023-05-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We need to make it easier to build data-driven applications. Databases are great if all your application needs is storing and retrieving data. But if you want to build anything more interesting with data - like serving users recommendations based on the pages they are visiting, detecting fraudulent transactions on your site, or computing real-time features for your machine learning model - you end up building a ton of custom code and infrastructure around the database.]]></summary>
        <content type="html"><![CDATA[<p><strong>We need to make it easier to build data-driven applications.</strong> Databases are great if all your application needs is storing and retrieving data. But if you want to build anything more interesting with data - like serving users recommendations based on the pages they are visiting, detecting fraudulent transactions on your site, or computing real-time features for your machine learning model - you end up building a ton of custom code and infrastructure around the database.</p>
<p>You need a queue like Kafka to hold your events, a stream processor like Flink to process data, a database like Postgres to store and query the result data, and an API layer to tie it all together.</p>
<img src="https://docs.datasqrl.com/img/reference/full_logo.svg" alt="DataSQRL Logo >" width="30%">
<p>And that’s just the price of admission. To get a functioning data layer, you need to make sure that all these components talk to each other and that data flows smoothly between them. Schema synchronization, data model tuning, index selection, query batching … all that fun stuff.</p>
<p>The point is, you need to do a ton of data plumbing if you want to build a data-driven application. All that data plumbing code is time-consuming to develop, hard to maintain, and expensive to operate.</p>
<p>We need to make building with data easier. That’s why we are sending out this call to action to uplevel our database game. <strong>Join us in figuring out how to simplify the data layer.</strong></p>
<p>We have an idea to get us started: Meet DataSQRL.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introducing-datasqrl">Introducing DataSQRL<a href="https://docs.datasqrl.com/blog/lets-uplevel-database-datasqrl#introducing-datasqrl" class="hash-link" aria-label="Direct link to Introducing DataSQRL" title="Direct link to Introducing DataSQRL">​</a></h2>
<p>DataSQRL is a build tool that compiles your application’s data layer from a high-level data development language, dubbed SQRL.</p>
<p>Our goal is to create a new abstraction layer above the low-level languages often used in data layers, allowing a compiler to handle the tedious tasks of data plumbing, infrastructure assembly, and configuration management.</p>
<p>Much like how you use high-level languages such as Javascript, Python, or Java instead of Assembly for software development, we believe a similar approach should be used for data.</p>
<p>SQRL is designed to be a developer-friendly version of SQL, maintaining familiar syntax while adding features necessary for building data-driven applications, like support for nested data and data streams.</p>
<p>Check out this simple SQRL script to build a recommendation engine from clickstream data.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">IMPORT</span><span class="token plain"> clickstream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Clickstream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">--Import clickstream data from Kafka</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">IMPORT</span><span class="token plain"> content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)">--Import content from CDC stream</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">/* Find next page visits within 10 minutes */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">_CoVisits :</span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">url </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> beforeURL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">url </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> afterURL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">event_time </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> </span><span class="token identifier punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token identifier">timestamp</span><span class="token identifier punctuation" style="color:rgb(248, 248, 242)">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> Clickstream b </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">INNER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">JOIN</span><span class="token plain"> Clickstream a </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ON</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">userid</span><span class="token operator">=</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">userid</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token operator">AND</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">event_time </span><span class="token operator">&lt;</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">event_time </span><span class="token operator">AND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                     b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">event_time </span><span class="token operator">&gt;=</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">event_time </span><span class="token operator">-</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">INTERVAL</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">MINUTE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">/* Recommend pages that are visited shortly after */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">/*+query_by_all(url) */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Recommendation :</span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">SELECT</span><span class="token plain"> beforeURL </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> afterURL </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> recommendation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token function" style="color:rgb(80, 250, 123)">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">AS</span><span class="token plain"> frequency </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">FROM</span><span class="token plain"> _CoVisits</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> beforeURL</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> afterURL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">BY</span><span class="token plain"> url </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">ASC</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> frequency </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This little SQRL script imports clickstream data, identifies pairs of URLs visited within a 10-minute interval, and compiles these pairs into a set of recommendations, ordered by the frequency of co-visits.</p>
<img src="https://docs.datasqrl.com/img/diagrams/getting_started_diagram2.png" alt="Data pipeline >">
<p>DataSQRL then takes this script and compiles it into an integrated data pipeline, complete with all necessary data plumbing pre-installed. It configures access to the clickstream. It generates an executable for the stream processor that ingests, validates, joins, and aggregates the clickstream data. It creates the data model and writes the aggregated data to the database. It synchronizes timestamps and schemas between all the components. And it compiles a server executable that queries the database and exposes the computed recommendations through a GraphQL API.</p>
<p><strong>The bottom line: These 9 lines of SQRL code can replace hundreds of lines of complex data plumbing code and save hours of infrastructure setup.</strong></p>
<p>We believe that all this low-level data plumbing work should be done by a compiler since it is tedious, time-consuming, and error-prone. Let’s uplevel our data game, so we can focus on <strong>what</strong> we are trying to build with data and less on the <strong>how</strong>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="join-us-on-this-journey">Join Us on this Journey<a href="https://docs.datasqrl.com/blog/lets-uplevel-database-datasqrl#join-us-on-this-journey" class="hash-link" aria-label="Direct link to Join Us on this Journey" title="Direct link to Join Us on this Journey">​</a></h2>
<img src="https://docs.datasqrl.com/img/undraw/code.svg" alt="Join DataSQRL Community >" width="50%">
<p>We have the ambitious goal of designing a higher level of abstraction for data to enable millions of developers to build data-driven applications.</p>
<p>We <a href="https://github.com/DataSQRL/sqrl/releases/tag/v0.1.0" target="_blank" rel="noopener noreferrer">just released</a> the first version of DataSQRL, and we recognize that we are at the beginning of a long, long road. We need your help. If you are a data nerd, like building with data, or wish it was easier, please <a href="https://github.com/DataSQRL/sqrl" target="_blank" rel="noopener noreferrer">join us on this journey</a>. DataSQRL is an open-source project, and all development activity is transparent.</p>
<p>Here are some ideas for how you can contribute:</p>
<ul>
<li>Share your thoughts: Do you have ideas on how we can improve the SQRL language or the DataSQRL compiler? Jump into <a href="https://docs.datasqrl.com/community">our community</a> and let us know!</li>
<li>Test the waters: Do you like playing with new technologies? Try out <a href="https://docs.datasqrl.com/docs/intro/getting-started">DataSQRL</a> and let us know if you find any bugs or missing features.</li>
<li>Spread the word: Think DataSQRL has potential? Share this blog post and <a href="https://github.com/DataSQRL/sqrl" target="_blank" rel="noopener noreferrer">star</a> DataSQRL on <a href="https://github.com/DataSQRL/sqrl" target="_blank" rel="noopener noreferrer">Github</a>. Your support can help us reach more like-minded individuals.</li>
<li>Code with us: Do you enjoy contributing to open-source projects? Dive into <a href="https://github.com/DataSQRL/sqrl" target="_blank" rel="noopener noreferrer">the code</a> with us and pick up a <a href="https://github.com/DataSQRL/sqrl/issues" target="_blank" rel="noopener noreferrer">ticket</a>.</li>
</ul>
<p>Let’s uplevel our database game. With your help, we can make building with data fun and productive.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="more-information">More Information<a href="https://docs.datasqrl.com/blog/lets-uplevel-database-datasqrl#more-information" class="hash-link" aria-label="Direct link to More Information" title="Direct link to More Information">​</a></h2>
<p>You probably have a ton of questions now. How do I import my own data? How do I customize the API? How do I deploy SQRL scripts to production? How do I import functions from my favorite programming language?</p>
<p>Those are all great questions. Check out <a href="https://docs.datasqrl.com/docs/intro">the documentation</a> for answers.</p>]]></content>
        <author>
            <name>Matthias Broecheler</name>
            <uri>https://github.com/mbroecheler</uri>
        </author>
        <category label="DataSQRL" term="DataSQRL"/>
        <category label="Community" term="Community"/>
    </entry>
</feed>