>>>database
CREATE TABLE IF NOT EXISTS applications$16 (id BIGINT NOT NULL,_uuid VARCHAR NOT NULL,_ingest_time TIMESTAMPTZ NOT NULL,customer_id BIGINT NOT NULL,loan_type_id BIGINT NOT NULL,amount DECIMAL NOT NULL,duration BIGINT NOT NULL,application_date TIMESTAMPTZ NOT NULL,updated_at TIMESTAMPTZ NOT NULL , PRIMARY KEY (id));
CREATE TABLE IF NOT EXISTS applicationupdates$9 (_uuid VARCHAR NOT NULL,_ingest_time TIMESTAMPTZ NOT NULL,loan_application_id BIGINT NOT NULL,status VARCHAR NOT NULL,message VARCHAR NOT NULL,timestamp TIMESTAMPTZ NOT NULL , PRIMARY KEY (_uuid));
CREATE TABLE IF NOT EXISTS customers$14 (id BIGINT NOT NULL,_uuid VARCHAR NOT NULL,_ingest_time TIMESTAMPTZ NOT NULL,first_name VARCHAR NOT NULL,last_name VARCHAR NOT NULL,email VARCHAR NOT NULL,phone VARCHAR NOT NULL,address VARCHAR NOT NULL,date_of_birth VARCHAR NOT NULL,updated_on TIMESTAMPTZ NOT NULL , PRIMARY KEY (id));
CREATE TABLE IF NOT EXISTS loantypes$18 (id BIGINT NOT NULL,_uuid VARCHAR NOT NULL,_ingest_time TIMESTAMPTZ NOT NULL,name VARCHAR NOT NULL,description VARCHAR NOT NULL,interest_rate DECIMAL NOT NULL,max_amount DECIMAL NOT NULL,min_amount DECIMAL NOT NULL,max_duration BIGINT NOT NULL,min_duration BIGINT NOT NULL,updated_at TIMESTAMPTZ NOT NULL , PRIMARY KEY (id));
CREATE TABLE IF NOT EXISTS overview$20 (__pk_0 BIGINT NOT NULL,loan_type_id BIGINT NOT NULL,total_amount DECIMAL NOT NULL,total_loans BIGINT NOT NULL,__timestamp TIMESTAMPTZ NOT NULL , PRIMARY KEY (__pk_0,loan_type_id));
>>>query-customer
{
  "data" : {
    "Customers" : [ {
      "first_name" : "Jane",
      "email" : "janesmith@email.com",
      "overview" : [ {
        "loan_type_id" : 1,
        "total_amount" : 48313.9,
        "total_loans" : 3
      }, {
        "loan_type_id" : 2,
        "total_amount" : 1515289.65,
        "total_loans" : 2
      }, {
        "loan_type_id" : 3,
        "total_amount" : 72142.24,
        "total_loans" : 1
      }, {
        "loan_type_id" : 5,
        "total_amount" : 356943.99,
        "total_loans" : 1
      }, {
        "loan_type_id" : 6,
        "total_amount" : 84060.65,
        "total_loans" : 1
      }, {
        "loan_type_id" : 9,
        "total_amount" : 350356.82,
        "total_loans" : 1
      }, {
        "loan_type_id" : 10,
        "total_amount" : 55835.92,
        "total_loans" : 2
      } ],
      "applications" : [ {
        "id" : 22,
        "loanType" : {
          "id" : 1,
          "name" : "Personal Loan"
        },
        "amount" : 13176.46,
        "duration" : 54,
        "application_date" : "2023-05-18T04:42:06.704Z",
        "updates" : [ {
          "status" : "applied",
          "timestamp" : "2023-05-27T08:45:30.735Z"
        }, {
          "status" : "reviewed",
          "timestamp" : "2023-06-03T23:15:22.822Z"
        }, {
          "status" : "pre-approval",
          "timestamp" : "2023-06-05T23:58:18.956Z"
        } ]
      }, {
        "id" : 23,
        "loanType" : {
          "id" : 10,
          "name" : "Medical Loan"
        },
        "amount" : 27115.64,
        "duration" : 28,
        "application_date" : "2023-05-18T12:36:43.503Z",
        "updates" : [ {
          "status" : "applied",
          "timestamp" : "2023-06-14T07:16:13.183Z"
        }, {
          "status" : "reviewed",
          "timestamp" : "2023-06-15T06:32:05.197Z"
        }, {
          "status" : "pre-approval",
          "timestamp" : "2023-06-15T23:51:25.325Z"
        }, {
          "status" : "verification",
          "timestamp" : "2023-06-16T00:53:40.856Z"
        }, {
          "status" : "check",
          "timestamp" : "2023-06-16T04:38:52.192Z"
        }, {
          "status" : "underwriting",
          "timestamp" : "2023-06-16T07:13:53.449Z"
        } ]
      }, {
        "id" : 15,
        "loanType" : {
          "id" : 9,
          "name" : "Construction Loan"
        },
        "amount" : 350356.82,
        "duration" : 14,
        "application_date" : "2023-05-21T15:24:27.660Z",
        "updates" : [ {
          "status" : "applied",
          "timestamp" : "2023-06-06T11:23:09.228Z"
        } ]
      }, {
        "id" : 12,
        "loanType" : {
          "id" : 3,
          "name" : "Auto Loan"
        },
        "amount" : 72142.24,
        "duration" : 71,
        "application_date" : "2023-05-22T08:55:02.700Z",
        "updates" : [ {
          "status" : "applied",
          "timestamp" : "2023-05-30T09:07:15.828Z"
        }, {
          "status" : "reviewed",
          "timestamp" : "2023-06-11T19:38:41.911Z"
        }, {
          "status" : "pre-approval",
          "timestamp" : "2023-06-15T12:43:24.165Z"
        }, {
          "status" : "verification",
          "timestamp" : "2023-06-16T02:54:54.802Z"
        }, {
          "status" : "check",
          "timestamp" : "2023-06-16T07:07:28.314Z"
        }, {
          "status" : "underwriting",
          "timestamp" : "2023-06-16T07:24:26.707Z"
        }, {
          "status" : "approval",
          "timestamp" : "2023-06-16T07:24:53.362Z"
        }, {
          "status" : "processing",
          "timestamp" : "2023-06-16T07:25:00.747Z"
        } ]
      }, {
        "id" : 26,
        "loanType" : {
          "id" : 6,
          "name" : "Debt Consolidation Loan"
        },
        "amount" : 84060.65,
        "duration" : 26,
        "application_date" : "2023-05-24T03:18:02.767Z",
        "updates" : [ {
          "status" : "applied",
          "timestamp" : "2023-05-29T04:58:13.196Z"
        }, {
          "status" : "reviewed",
          "timestamp" : "2023-06-09T12:42:18.968Z"
        }, {
          "status" : "pre-approval",
          "timestamp" : "2023-06-10T11:06:59.848Z"
        }, {
          "status" : "verification",
          "timestamp" : "2023-06-11T00:55:36.235Z"
        }, {
          "status" : "check",
          "timestamp" : "2023-06-11T13:17:50.033Z"
        } ]
      }, {
        "id" : 41,
        "loanType" : {
          "id" : 10,
          "name" : "Medical Loan"
        },
        "amount" : 28720.28,
        "duration" : 52,
        "application_date" : "2023-05-25T07:15:56.728Z",
        "updates" : [ {
          "status" : "applied",
          "timestamp" : "2023-06-15T09:31:12.401Z"
        }, {
          "status" : "reviewed",
          "timestamp" : "2023-06-15T14:38:06.289Z"
        }, {
          "status" : "pre-approval",
          "timestamp" : "2023-06-15T23:33:14.715Z"
        }, {
          "status" : "verification",
          "timestamp" : "2023-06-16T07:17:52.976Z"
        }, {
          "status" : "check",
          "timestamp" : "2023-06-16T07:18:08.117Z"
        }, {
          "status" : "underwriting",
          "timestamp" : "2023-06-16T07:23:40.457Z"
        }, {
          "status" : "approval",
          "timestamp" : "2023-06-16T07:24:24.100Z"
        } ]
      }, {
        "id" : 6,
        "loanType" : {
          "id" : 5,
          "name" : "Small Business Loan"
        },
        "amount" : 356943.99,
        "duration" : 30,
        "application_date" : "2023-06-02T12:52:25.963Z",
        "updates" : [ {
          "status" : "applied",
          "timestamp" : "2023-06-04T08:32:21.798Z"
        }, {
          "status" : "reviewed",
          "timestamp" : "2023-06-04T16:04:59.547Z"
        } ]
      }, {
        "id" : 76,
        "loanType" : {
          "id" : 2,
          "name" : "Home Loan"
        },
        "amount" : 591282.19,
        "duration" : 69,
        "application_date" : "2023-06-07T15:04:56.373Z",
        "updates" : [ {
          "status" : "applied",
          "timestamp" : "2023-06-13T19:24:27.085Z"
        }, {
          "status" : "reviewed",
          "timestamp" : "2023-06-15T04:08:11.679Z"
        }, {
          "status" : "pre-approval",
          "timestamp" : "2023-06-16T04:32:29.179Z"
        }, {
          "status" : "verification",
          "timestamp" : "2023-06-16T05:41:40.945Z"
        }, {
          "status" : "check",
          "timestamp" : "2023-06-16T07:12:02.051Z"
        } ]
      }, {
        "id" : 72,
        "loanType" : {
          "id" : 2,
          "name" : "Home Loan"
        },
        "amount" : 924007.46,
        "duration" : 341,
        "application_date" : "2023-06-07T23:26:56.093Z",
        "updates" : [ {
          "status" : "applied",
          "timestamp" : "2023-06-09T07:29:42.684Z"
        } ]
      }, {
        "id" : 70,
        "loanType" : {
          "id" : 1,
          "name" : "Personal Loan"
        },
        "amount" : 24331.39,
        "duration" : 45,
        "application_date" : "2023-06-11T05:32:46.838Z",
        "updates" : [ {
          "status" : "applied",
          "timestamp" : "2023-06-11T10:02:39.379Z"
        }, {
          "status" : "reviewed",
          "timestamp" : "2023-06-14T20:17:57.370Z"
        }, {
          "status" : "pre-approval",
          "timestamp" : "2023-06-15T01:16:11.938Z"
        }, {
          "status" : "verification",
          "timestamp" : "2023-06-15T04:42:32.672Z"
        } ]
      } ]
    } ]
  }
}
