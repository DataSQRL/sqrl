"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[6721],{4274:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"functions","title":"Functions","description":"System Functions","source":"@site/docs/functions.md","sourceDirName":".","slug":"/functions","permalink":"/sqrl/docs/functions","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udd0c Source & Sink Connectors","permalink":"/sqrl/docs/connectors"},"next":{"title":"System Functions","permalink":"/sqrl/docs/functions-docs/function-docs/system-functions"}}');var s=t(4848),c=t(8453);const o={},r="Functions",a={},l=[{value:"System Functions",id:"system-functions",level:2},{value:"Function Libraries",id:"function-libraries",level:2},{value:"User Defined Functions",id:"user-defined-functions",level:2},{value:"Java",id:"java",level:3},{value:"JavaScript",id:"javascript",level:3},{value:"Python",id:"python",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"functions",children:"Functions"})}),"\n",(0,s.jsx)(n.h2,{id:"system-functions",children:"System Functions"}),"\n",(0,s.jsxs)(n.p,{children:["SQRL supports all of ",(0,s.jsx)(n.a,{href:"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/functions/systemfunctions/",children:"Flink's built-in system functions"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["SQRL adds ",(0,s.jsx)(n.a,{href:"functions-docs/function-docs/system-functions",children:"system functions"})," with support for:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"a binary JSON type (JSONB) to represent semi-structured data efficiently."}),"\n",(0,s.jsx)(n.li,{children:"a vector type to represent embeddings."}),"\n",(0,s.jsx)(n.li,{children:"text manipulation and full text search."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["System functions are always available and do not need to be imported. Take a look at the ",(0,s.jsx)(n.a,{href:"functions-docs/function-docs/system-functions",children:"full list of SQRL system function"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"function-libraries",children:"Function Libraries"}),"\n",(0,s.jsxs)(n.p,{children:["SQRL includes ",(0,s.jsx)(n.a,{href:"functions-docs/function-docs/library-functions",children:"standard libraries"})," that can be imported into a SQRL script as follows:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"IMPORT stdlib.math;\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Imports all functions from the ",(0,s.jsx)(n.code,{children:"math"})," library into the script. Replace ",(0,s.jsx)(n.code,{children:"math"})," with the library you wish to import."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"IMPORT stdlib.math.hypot AS hypotenuse;\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Imports a single function ",(0,s.jsx)(n.code,{children:"hypot"})," from the ",(0,s.jsx)(n.code,{children:"math"})," library under the name ",(0,s.jsx)(n.code,{children:"hypotenuse"}),". The renaming with ",(0,s.jsx)(n.code,{children:"AS"})," is optional and is omitted when you want to use the original name."]}),"\n",(0,s.jsxs)(n.p,{children:["Check out the ",(0,s.jsx)(n.a,{href:"functions-docs/function-docs/library-functions",children:"full list of function libraries"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"user-defined-functions",children:"User Defined Functions"}),"\n",(0,s.jsx)(n.p,{children:"Users can define custom functions and import them into a SQRL script."}),"\n",(0,s.jsx)(n.h3,{id:"java",children:"Java"}),"\n",(0,s.jsxs)(n.p,{children:["To create a new function package, first create a sub-folder ",(0,s.jsx)(n.code,{children:"myjavafunction"})," in the directory of the script where you want to import the functions.\nInside that package, create a java project which implements a ",(0,s.jsx)(n.a,{href:"https://nightlies.apache.org/flink/flink-docs-release-1.19/docs/dev/table/functions/udfs/",children:"Flink function"}),".\nAnnotate the function with ",(0,s.jsx)(n.code,{children:"@AutoService"})," and the Flink function that it extends so the function can be discovered by the compiler."]}),"\n",(0,s.jsx)(n.p,{children:"Compile the java project into a jar file and import it into the SQRL script via:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"IMPORT myjavafunction.target.MyScalarFunction;\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Check out this ",(0,s.jsx)(n.a,{href:"https://github.com/DataSQRL/datasqrl-examples/tree/main/user-defined-function",children:"complete example"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"javascript",children:"JavaScript"}),"\n",(0,s.jsx)(n.p,{children:"Support for JavaScript functions is currently being implemented and is targeted for the 0.7 release."}),"\n",(0,s.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,s.jsx)(n.p,{children:"Support for Python functions is currently being implemented and is targeted for the 0.7 release."})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var i=t(6540);const s={},c=i.createContext(s);function o(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);