"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[1120],{6483:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"functions-system-generated","title":"System Functions","description":"DataSQRL provides built-in system functions that are available in all SQRL scripts. These functions are grouped by functionality and provide essential operations for data processing, JSON manipulation, vector operations, and text processing.","source":"@site/docs/functions-system-generated.md","sourceDirName":".","slug":"/functions-system-generated","permalink":"/docs/functions-system-generated","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Functions","permalink":"/docs/functions"},"next":{"title":"Library Functions","permalink":"/docs/functions-library-generated"}}');var r=n(4848),c=n(8453);const d={},i="System Functions",o={},l=[{value:"Jsonb Functions",id:"jsonb-functions",level:2},{value:"Vector Functions",id:"vector-functions",level:2},{value:"Text Functions",id:"text-functions",level:2}];function a(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"system-functions",children:"System Functions"})}),"\n",(0,r.jsx)(t.p,{children:"DataSQRL provides built-in system functions that are available in all SQRL scripts. These functions are grouped by functionality and provide essential operations for data processing, JSON manipulation, vector operations, and text processing."}),"\n",(0,r.jsx)(t.h2,{id:"jsonb-functions",children:"Jsonb Functions"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Function"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Example"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"to_jsonb"})}),(0,r.jsxs)(t.td,{children:["Parses a JSON string or Flink object (e.g., ",(0,r.jsx)(t.code,{children:"Row"}),", ",(0,r.jsx)(t.code,{children:"Row[]"}),") into a JSON object."]}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'to_jsonb(\'{"name":"Alice"}\') \u2192 JSON object'})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_to_string"})}),(0,r.jsx)(t.td,{children:"Serializes a JSON object into a JSON string."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_to_string(to_jsonb('{\"a\":1}')) \u2192 '{\"a\":1}'"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_object"})}),(0,r.jsx)(t.td,{children:"Constructs a JSON object from key-value pairs. Keys must be strings."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_object('a', 1, 'b', 2) \u2192 {\"a\":1,\"b\":2}"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_array"})}),(0,r.jsx)(t.td,{children:"Constructs a JSON array from multiple values or JSON objects."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'jsonb_array(1, \'a\', to_jsonb(\'{"b":2}\')) \u2192 [1,"a",{"b":2}]'})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_extract"})}),(0,r.jsx)(t.td,{children:"Extracts a value from a JSON object using a JSONPath expression. Optionally specify default value."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_extract(to_jsonb('{\"a\":1}'), '$.a') \u2192 1"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_query"})}),(0,r.jsx)(t.td,{children:"Executes a JSONPath query on a JSON object and returns the result as a JSON string."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_query(to_jsonb('{\"a\":[1,2]}'), '$.a') \u2192 '[1,2]'"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_exists"})}),(0,r.jsxs)(t.td,{children:["Returns ",(0,r.jsx)(t.code,{children:"TRUE"})," if a JSONPath exists within a JSON object."]}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_exists(to_jsonb('{\"a\":1}'), '$.a') \u2192 TRUE"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_concat"})}),(0,r.jsx)(t.td,{children:"Merges two JSON objects. If keys overlap, the second object's values are used."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'jsonb_concat(to_jsonb(\'{"a":1}\'), to_jsonb(\'{"b":2}\')) \u2192 {"a":1,"b":2}'})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_array_agg"})}),(0,r.jsx)(t.td,{children:"Aggregate function that accumulates values into a JSON array."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"SELECT jsonb_array_agg(col) FROM tbl"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"jsonb_object_agg"})}),(0,r.jsx)(t.td,{children:"Aggregate function that accumulates key-value pairs into a JSON object."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"SELECT jsonb_object_agg(key_col, val_col) FROM tbl"})})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"vector-functions",children:"Vector Functions"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Function"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Example"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"cosine_similarity"})}),(0,r.jsx)(t.td,{children:"Computes cosine similarity between two vectors."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"cosine_similarity(vec1, vec2)"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"cosine_distance"})}),(0,r.jsx)(t.td,{children:"Computes cosine distance between two vectors (1 - cosine similarity)."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"cosine_distance(vec1, vec2)"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"euclidean_distance"})}),(0,r.jsx)(t.td,{children:"Computes the Euclidean distance between two vectors."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"euclidean_distance(vec1, vec2)"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"double_to_vector"})}),(0,r.jsxs)(t.td,{children:["Converts a ",(0,r.jsx)(t.code,{children:"DOUBLE[]"})," array into a ",(0,r.jsx)(t.code,{children:"VECTOR"}),"."]}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"double_to_vector([1.0, 2.0, 3.0])"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"vector_to_double"})}),(0,r.jsxs)(t.td,{children:["Converts a ",(0,r.jsx)(t.code,{children:"VECTOR"})," into a ",(0,r.jsx)(t.code,{children:"DOUBLE[]"})," array."]}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"vector_to_double(vec)"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"center"})}),(0,r.jsx)(t.td,{children:"Computes the centroid (average) of a collection of vectors. Aggregate function."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"SELECT center(vecCol) FROM vectors"})})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"text-functions",children:"Text Functions"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Function"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Example"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"format(String, String...)"})}),(0,r.jsxs)(t.td,{children:["A function that formats text based on a format string and variable number of arguments. It uses Java's ",(0,r.jsx)(t.code,{children:"String.format"})," method internally. If the input text is ",(0,r.jsx)(t.code,{children:"null"}),", it returns ",(0,r.jsx)(t.code,{children:"null"}),"."]}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'format("Hello %s!", "World") returns "Hello World!"'})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"text_search(String, String...)"})}),(0,r.jsx)(t.td,{children:"Evaluates a query against multiple text fields and returns a score based on the frequency of query words in the texts. It tokenizes both the query and the texts, and scores based on the proportion of query words found in the text."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'text_search("hello", "hello world") returns 1.0'})})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>d,x:()=>i});var s=n(6540);const r={},c=s.createContext(r);function d(e){const t=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(c.Provider,{value:t},e.children)}}}]);