"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[869],{5156:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>c,default:()=>m,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"concepts","title":"Concepts","description":"This document explains some of the key concepts in streaming data processing.","source":"@site/docs/concepts.mdx","sourceDirName":".","slug":"/concepts","permalink":"/sqrl/docs/concepts","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Library Functions","permalink":"/sqrl/docs/functions-docs/function-docs/library-functions"},"next":{"title":"\ud83d\udc69\u200d\ud83d\udcbb Developer Guide","permalink":"/sqrl/docs/developer"}}');var s=n(4848),i=n(8453),o=n(9030);const a={},c="Concepts",h={},d=[{value:"Time Handling",id:"time-handling",level:2}];function l(e){const t={h1:"h1",h2:"h2",header:"header",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"concepts",children:"Concepts"})}),"\n",(0,s.jsx)(t.p,{children:"This document explains some of the key concepts in streaming data processing."}),"\n",(0,s.jsx)(t.h2,{id:"time-handling",children:"Time Handling"}),"\n",(0,s.jsx)(t.p,{children:"Time is the most important concept in DataSQRL because it determines how data streams are processed."}),"\n",(0,s.jsx)(t.p,{children:"For stream processing, it is useful to think of time as a timeline that stretches from the past through the present and into the future. The blue line in the picture below visualizes a timeline."}),"\n",(0,s.jsx)("img",{src:(0,o.Ay)("/img/docs/timeline.svg"),alt:"SQRL Timeline",width:"100%"}),"\n",(0,s.jsx)(t.p,{children:"The blue vertical bar on the timeline represents the present. The present moment continuously advances on the timeline."}),"\n",(0,s.jsxs)(t.p,{children:["Each stream record processed by the system (shown as grey circles) is associated with a point on the timeline before the present. We call this point in time the ",(0,s.jsx)(t.strong,{children:"event time"})," of a stream record. The event time can be the time when an event occurred, a metric was observed, or a change happened. It is a fixed point in time on the timeline and it must be older than the present."]}),"\n",(0,s.jsx)(t.p,{children:"However, records may come in out of order. Or we might be processing records for multiple different systems (or different partitions of the same system) and hence the records can have different event time."}),"\n",(0,s.jsx)(t.p,{children:"To synchronize the disparate event times, we need another concept: the watermark. The watermark is shown as the orange line on the timeline and it provides a simple but powerful guarantee: there will be no more records older than the watermark.\nHence, the watermark is always smaller than the present. It may be significantly older. The watermark allows the streaming processor to make progress in time, because it is guaranteed to not encounter older records than the watermark which would require it to revise previously computed data."}),"\n",(0,s.jsx)(t.p,{children:"That's why it is important to carefully define the watermark. In most cases, the watermark is defined relative to records that have been received, for instance setting the watermark to 5 minutes older than the newest record's event time. This is called a bounded out-of-orderedness watermark, which means that while we cannot guarantee that records arrive in order we can guarantee that the out of order records will be at most 5 minutes older."}),"\n",(0,s.jsx)(t.p,{children:"Watermarks play a key role in synchronizing data across joins, closing time windows, and combining streams."}),"\n",(0,s.jsx)(t.p,{children:"In DataSQRL, you define the watermark for external sources. For tables exposed as mutations in the API, DataSQRL handles the watermarks for you."})]})}function m(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var r=n(6540);const s={},i=r.createContext(s);function o(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);